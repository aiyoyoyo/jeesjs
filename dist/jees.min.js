var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(c,a,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");c!=Array.prototype&&c!=Object.prototype&&(c[a]=b.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+$jscomp.symbolCounter_++};$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(c){var a=0;return $jscomp.iteratorPrototype(function(){return a<c.length?{done:!1,value:c[a++]}:{done:!0}})};$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.makeIterator=function(c){$jscomp.initSymbolIterator();var a=c[Symbol.iterator];return a?a.call(c):$jscomp.arrayIterator(c)};this.jees=this.jees||{};(function(){function c(b){if(!b)throw"\u6a21\u5757\u5fc5\u987b\u8bbe\u7f6eID\u3002";this.id=b}var a=c.prototype;a.getId=function(){return this.id};a.enter=function(){};a.leave=function(){};a.update=function(b){};a.interrupt=function(){};a.recovery=function(){};jees.Module=c})();this.jees=this.jees||{};(function(){function c(){throw"UtilTools cannot be instantiated.";}c.Random=function(){function a(){b=(9301*b+49297)%233280;return b/233280}var b=(new Date).getTime();return function(b,c){return Math.ceil(a()*b)+(c?c:0)}}();c.RandomColor=function(){function a(){var b=jees.UT.Random(256);return 10>b?"0"+b:b.toString(16)}return function(){return"#"+a()+a()+a()}}();c.OppositeColor=function(){function a(b){b=255-b;64<b&&128>b?b-=64:128<=b&&192>b&&(b+=64);return 10>b?"0"+b:b.toString(16)}return function(b){var d=parseInt(b.substring(1,3),16),c=parseInt(b.substring(3,5),16);b=parseInt(b.substring(5),16);d=a(d);c=a(c);b=a(b);return"#"+d+c+b}}();c.Grid=function(){function a(b,d,a,c,f){1==d?(d=[f],f=[0]):2==d?0!=b.t?(d=[b.t,f-b.t],f=[0,b.t]):(d=[f-b.b,b.b],f=[0,f-b.b]):(d=[b.t,f-b.t-b.b,b.b],f=[0,b.t,f-b.b]);1==a?(a=[c],b=[0]):2==a?0!=b.l?(a=[b.l,c-b.l],b=[0,b.l]):(a=[c-b.r,b.r],b=[0,c-b.r]):(a=[b.l,c-b.l-b.r,b.r],b=[0,b.l,c-b.r]);return{x:b,y:f,w:a,h:d}}return function(b,d,c,e,f){var m=[],h=1,l=1;0!=b.l&&l++;0!=b.r&&l++;0!=b.t&&h++;0!=b.b&&h++;d=a(b,h,l,d,c);b=a(b,h,l,e,f);for(e=0;e<h;e++)for(f=0;f<l;f++)c={x:d.x[f],y:d.y[e],w:d.w[f],h:d.h[e],dx:b.x[f],dy:b.y[e],dw:b.w[f],dh:b.h[e],sw:b.w[f]/d.w[f],sh:b.h[e]/d.h[e]},"string"==typeof c.x&&(c.x=parseInt(c.x)),"string"==typeof c.y&&(c.y=parseInt(c.y)),"string"==typeof c.w&&(c.w=parseInt(c.w)),"string"==typeof c.h&&(c.h=parseInt(c.h)),"string"==typeof c.dx&&(c.dx=parseInt(c.dx)),"string"==typeof c.dy&&(c.dy=parseInt(c.dy)),"string"==typeof c.dw&&(c.dw=parseInt(c.dw)),"string"==typeof c.dh&&(c.dh=parseInt(c.dh)),"string"==typeof c.sw&&(c.sw=parseFloat(c.sw)),"string"==typeof c.sh&&(c.sh=parseFloat(c.sh)),m.push(c);return m}}();jees.UT=c})();this.jees=this.jees||{};(function(){jees.TL_STRING=function(){throw"StringTools cannot be instantiated.";}})();this.jees=this.jees||{};(function(){function c(){throw"jees.CJS\u4e0d\u5141\u8bb8\u505a\u521d\u59cb\u5316\u64cd\u4f5c\u3002";}c.startup=function(){};c.get=function(){return createjs};c.getTickerTime=function(){return this.getTicker().getMeasuredTickTime().toFixed(0)};c.getFPS=function(){return this.getTicker().getMeasuredFPS().toFixed(0)};c.getTouch=function(){return createjs.Touch};c.getTicker=function(){return createjs.Ticker};c.getSound=function(){return createjs.Sound};c.newContainer=function(){return new createjs.Container};c.newShape=function(a,b,d){var c=new createjs.Shape,e=c.graphics;d&&e.beginFill(d);a&&b&&e.drawRect(0,0,a,b);(d||a&&b)&&e.endFill();return c};c.newObject=function(){return new createjs.DisplayObject};c.newBox=function(a,b,d){var c=new createjs.Shape;c.graphics.beginStroke(d).drawRect(0,0,a,b);return c};c.newBitmap=function(a){return new createjs.Bitmap(a)};c.newRect=function(a,b,d,c){return new createjs.Rectangle(a,b,d,c)};c.newText=function(a,b,d){return new createjs.Text(a,b,d)};jees.CJS=c})();this.jees=this.jees||{};(function(){function c(){throw"Debug cannot be instantiated.";}c._init=!1;c._width=200;c._height=100;c._wgt_text=null;c._wgt_panel=null;c._print="";c.print=function(a){this._print=a};c.startup=function(){jees.SET.isDebug()&&!this._init&&(this._init=!0,jees.CM._get_container(jees.CM.Container.DEBUG),this.panel=new jees.Panel,this.panel.setSize(this._width,this._height),this.panel.setColor("#8080C0"),this.panel.setBackAlpha(.5),this._wgt_text=new jees.TextBox,this._wgt_text.setColor("#FFFF00"),this._wgt_text.setMaxWidth(this._width),this._wgt_text.setLineWidth(this._height),this.panel.addWidget(this._wgt_text),jees.CM.addWidget(this.panel,!1,jees.CM.Container.DEBUG),jees.CM.update(jees.CM.Container.DEBUG))};c.update=function(){if(jees.SET.isDebug()){var a=" \u5e27\u7387: "+jees.CJS.getFPS(!0)+"\n \u56de\u8c03\u65f6\u95f4\uff1a"+jees.CJS.getTickerTime()+"ms\n \u81ea\u5b9a\u8f93\u51fa\uff1a"+this._print;this._wgt_text.setText(a)}};jees.DEBUG=c})();this.jees=this.jees||{};(function(){function c(){throw"Event cannot be instantiated.";}c.RM={FL:"fileload",C:"complete"};c.Widget={C:"click",DC:"dblclick",MD:"mousedown",MO:"mounseout",MIn:"mouseover"};c.bind=function(a,b,d){return a.addEventListener(b,d)};c.unbind=function(a,b,d){a.removeEventListener(b,d)};c.tick=function(a){return jees.E.bind(createjs.Ticker,"tick",a)};c.untick=function(a){jees.E.unbind(createjs.Ticker,"tick",a)};jees.E=c})();this.jees=this.jees||{};(function(){function c(){throw"jees.SET \u4e0d\u5141\u8bb8\u505a\u521d\u59cb\u5316\u64cd\u4f5c\u3002";}c.CONFIG_FILE="../assets/configs/jees.default.config";c.SKIN_FILE="../assets/images/skin_default.png";c._config=null;c._timestamp=0;c._fps=30;c._canvas=null;c._width=0;c._height=0;c._sound=!1;c._debug=!1;c._mouseover=!1;c.connector={enable:!1,host:null,port:null,path:null};c.getCanvas=function(){return this._canvas};c.getWidth=function(){return this._width};c.getHeight=function(){return this._height};c.getFPS=function(){return this._fps};c.setFPS=function(a){this._fps=a};c.getTimestamp=function(){return this._timestamp};c.setTimestamp=function(a){this._timestamp=a};c.getConfig=function(){return this._config};c.getSkin=function(){return this._skin};c.enableSound=function(){return this._sound};c.enableDebug=function(){return this._debug};c.enableMouseOver=function(){return this._mouseover};c.enableConnector=function(){return this.connector.enable};c.startup=function(){var a=this._config.Setting;this._canvas=a.canvas;this._fps=a.fps;this._width=0!=a.width?a.width:document.documentElement.clientWidth||document.body.clientWidth;this._height=0!=a.height?a.height:document.documentElement.clientHeight||document.body.clientHeight;this._sound=a.sound;this._mouseover=a.mouseover;this._skin=a.skin;for(var b in this._config.Connector)this.connector.hasOwnProperty(b)&&(this.connector[b]=this._config.Connector[b])};jees.SET=c})();this.jees=this.jees||{};(function(){function c(){throw"jees.MM\u4e0d\u5141\u8bb8\u505a\u521d\u59cb\u5316\u64cd\u4f5c\u3002";}c._ids=[];c._modules=new Map;c._module=null;c.enter=function(a){if(void 0==a||!a instanceof jees.Module)throw"\u52a0\u5165\u6a21\u5757\u5bf9\u8c61\u9519\u8bef";if(this._modules.has(a.getId()))throw"\u6dfb\u52a0\u4e86\u91cd\u590d\u7684\u6a21\u5757["+a.getId()+"]";null!=this._module&&this._module.interrupt();this._ids.push(a.getId());this._modules.set(a.getId(),a);this._module=a;a.enter()};c.leave=function(){if(null!=this._module&&0!=this._ids.length){var a=this._ids.pop();this._module.leave();this._modules.delete(a);0!=this._modules.size&&(this._module=this._modules.get(this._ids[this._ids.length-1]),this._module.recovery())}};c.clear=function(){for(;0<this._modules.length;)this.leave()};c.update=function(a){for(var b=$jscomp.makeIterator(this._modules.values()),d=b.next();!d.done;d=b.next())d.value.update(a)};c.current=function(){return this._module};jees.MM=c})();this.jees=this.jees||{};(function(){function c(){throw"jees.RM\u4e0d\u5141\u8bb8\u505a\u521d\u59cb\u5316\u64cd\u4f5c\u3002";}c._queue=null;c._loader=null;c._resources=null;c._callback=null;c._handler=null;c.DEFAULT_GROUP="default";c.startup=function(){this._loader=[];this._resources=new Map;this._resources.set(this.DEFAULT_GROUP,new Map);this._queue=new createjs.LoadQueue(!1,"","Anonymous");this._queue.maintainScriptOrder=!0};c.reload=function(){jees.SET.enableSound()&&this._queue.installPlugin(createjs.Sound)};c.getProgress=function(){return this._queue.progress};c.add=function(a,b,d){var c;void 0==d?c=this._resources.get(this.DEFAULT_GROUP):this._resources.has(d)?c=this._resources.get(d):(c=new Map,this._resources.set(d,c));c.has(a)||this._loader.push({id:a,src:b,group:d})};c.onload=function(a){if(null!=this._callback)throw"\u4e0a\u6b21\u52a0\u8f7d\u5c1a\u672a\u7ed3\u675f\u3002";if(null==this._callback&&"function"===typeof a){this._callback=a;var b=this;this._handler=jees.E.bind(this._queue,"complete",function(d){b._complete_handler(d)})}0!=this._loader.length?this._queue.loadManifest(this._loader):this._complete_handler()};c.get=function(a,b){var d;d=void 0!=b?this._resources.get(b):this._resources.get(this.DEFAULT_GROUP);if(d.has(a))return d.get(a);throw"\u6ca1\u6709\u627e\u5230\u5bf9\u5e94\u8d44\u6e90\uff1aRES\x3d["+a+", GROUP\x3d["+b+"]";};c.del=function(a,b){b=void 0!=b?this._resources.get(b):this._resources.get(this.DEFAULT_GROUP);b.has(a)?b.delete(a):this._queue.remove(a)};c._complete_handler=function(a){null!=this._handler&&jees.E.unbind(this._queue,"complete",this._handler);this._loader.forEach(function(b){var d=jees.RM._queue.getResult(b.id);jees.RM._resources.get(b.group).set(b.id,d)});this._loader=[];this._callback(a);this._callback=null};jees.RM=c})();this.jees=this.jees||{};(function(){function c(){throw"CanvasManager cannot be instantiated.";}c.Container={BACK:-2,BOTTOM:-1,DEFAULT:0,TOP:1,POPUP:2,SYSTEM:3,DEBUG:4,CONSOLE:5};c._caches=null;c._containers=null;c.__update_cache_level=function(a){if(this._caches.has(a)){var b=this._caches.get(a);0<b.length&&(b=b.pop(),b.initialize(),this._containers.get(a).addChild(b))}};c._update_cache=function(){this.__update_cache_level(c.Container.DEFAULT)};c.startup=function(){this._caches=new Map;this._containers=new Map};c.update=function(a){this._update_cache()};c.addChild=function(a,b){b=b||c.Container.DEFAULT;if(this._caches.has(b)){var d=this._caches.get(b);d.push(a)}else d=[],d.push(a),this._caches.set(b,d),a=new jees.CJS.newContainer,this._containers.set(b,a),jees.APP.addChild(a)};jees.CM=c})();this.jees=this.jees||{};(function(){function c(b,d){this._group=void 0==b?jees.RM.DEFAULT_GROUP:b;this._suffix=void 0==d?"":d}var a=c.prototype;a.register=function(b,d){var a=!1;0<this._suffix.length?-1!=d.lastIndexOf("."+this._suffix)&&(a=!0):a=!0;if(a)jees.RM.add(b,d,this._group);else throw"\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e";};a.onload=function(b){jees.RM.onload(b)};a.get=function(b){return null!=this._group?jees.RM.get(b,this._group):jees.RM.get(b)};a.del=function(b){null!=this._group?jees.RM.del(b,this._group):jees.RM.del(b)};a.getContent=function(b){return eval("("+this.get(b)+")")};jees.FileLoadManager=c})();this.jees=this.jees||{};(function(){function c(){throw"jees.APP\u4e0d\u5141\u8bb8\u505a\u521d\u59cb\u5316\u64cd\u4f5c\u3002";}c._canvas=null;c._stage=null;c._module=null;c._connector=null;c._inited=!1;c._handler=null;c._loader=[];c.startup=function(a){var b=this;b._module=a;jees.RM.startup();jees.Skins.register("default",jees.SET.SKIN_FILE);jees.Config.register("config",jees.SET.CONFIG_FILE);this.addLoader(function(){jees.Config.onload(function(){b._initialize()})});this._handler=jees.E.tick(function(d){b.update(d)})};c.update=function(a){0<this._loader.length&&this._loader.pop().call();if(this._inited&&(null!=this._module&&(jees.MM.enter(this._module),this._module=null),!a.paused)){a=jees.CJS.getTicker().getTime();var b=a-jees.SET.getTimestamp();jees.SET.setTimestamp(a);jees.MM.update(b);jees.CM.update();this._stage.update()}};c.addChild=function(a){this._stage.addChild(a)};c.removeChild=function(a){this._stage.removeChild(a)};c.addLoader=function(a){this._loader.push(a)};c.getConfig=function(){return this._config};c.getTimestamp=function(){};c.getCanvas=function(){return this._canvas};c.getScreenSize=function(){return{w:this._canvas.width,h:this._canvas.height}};c.setFPS=function(a){jees.SET.setFPS(a);jees.CJS.getTicker().framerate=jees.SET.getFPS()};c.screenOrientation=function(){};c.screenResize=function(){};c._initialize=function(){jees.SET._config=jees.Config.getContent("config");jees.SET.startup();this._canvas=document.getElementById(jees.SET.getCanvas());this._stage=new createjs.StageGL(this._canvas);this._canvas.width=jees.SET.getWidth();this._canvas.height=jees.SET.getHeight();this._stage.updateViewport(jees.SET.getWidth(),jees.SET.getHeight());createjs.Ticker.timingMode=createjs.Ticker.RAF_SYNCHED;this.setFPS(jees.SET.getFPS());createjs.Touch.enable(this._stage);jees.SET.enableMouseOver()&&this._stage.enableMouseOver();jees.SET.enableConnector()&&(this._connector=new jees.WebSocketConnector(jees.SET.connector.host,jees.SET.connector.port,jees.SET.connector.path),this._connector.connect());jees.RM.reload();jees.CM.startup();jees.Skins.startup();this._inited=!0};jees.APP=c})();this.jees=this.jees||{};this.jees.EX=this.jees.EX||{};(function(){function c(a,b){this.FileLoadManager_constructor(a,b)}createjs.extend(c,jees.FileLoadManager);jees.EX.ConfigManager=createjs.promote(c,"FileLoadManager")})();this.jees=this.jees||{};this.jees.EX=this.jees.EX||{};(function(){function c(b,d){this.FileLoadManager_constructor(b,d);this._layouts=new Map}var a=createjs.extend(c,jees.FileLoadManager);a._layout_property_2_widget=function(b,d){var a=this,c=null,f=b?b.toString().toLowerCase():"widget";if("widget"==f)c=new jees.UI.Widget;else if("panel"==f)c=new jees.UI.Panel;else if("textbox"==f)c=new jees.UI.TextBox;else if("imagebox"==f)c=new jees.UI.ImageBox;else if("imagespt"==f)c=new jees.UI.ImageSpt;else if("button"==f)c=new jees.UI.Button;else if("checkbox"==f)c=new jees.UI.CheckBox;else if("inputbox"==f)c=new jees.UI.InputBox;else throw"\u9519\u8bef\u7684\u63a7\u4ef6\u7c7b\u578b\uff1a"+b;for(var g in c)d.hasOwnProperty(g)&&(c[g]=d[g]);for(g in c.property)d.hasOwnProperty(g)&&(c.property[g]=d[g]);c.property.childs&&c.property.childs.forEach(function(b){for(var d in b){c.addChild(a._layout_property_2_widget(d,b[d]));break}});return c};a._layout_2_widget=function(b){var d=null,a;for(a in b){d=this._layout_property_2_widget(a,b[a]);break}return d};a.load=function(b){var a;this._layouts.has(b)?a=this._layouts.get(b):(a=this._layout_2_widget(this.getContent(b)),this._layouts.set(b,a));jees.CM.addChild(a);return a};a.unload=function(b){if(this._layouts.has(b)){var a=this._layouts.get(b);jees.APP.removeChild(a);this._layouts.delete(b);this.del(b)}};jees.EX.LayoutManager=createjs.promote(c,"FileLoadManager")})();this.jees=this.jees||{};this.jees.EX=this.jees.EX||{};(function(){function c(b,a){this.FileLoadManager_constructor(b,a);this._config=null;this._skin="default"}var a=createjs.extend(c,jees.FileLoadManager);a.startup=function(){this._config=jees.SET.getConfig().Skin;this._skin=jees.SET.getSkin()};a.getSkin=function(b,a){return{resource:this.get(void 0!=a?a:this._skin),property:this._config[b]}};jees.EX.SkinManager=createjs.promote(c,"FileLoadManager")})();this.jees=this.jees||{};this.jees.UI=this.jees.UI||{};(function(){function c(b,a,c,e){this._type=b?b.toLowerCase():"none";this._skinResource=e?e:"default";this._config=jees.Skins.getSkin(this._type,this._skinResource);this._resource=this._config.resource;this._rects=new Map;this._regions=new Map;this._bitmaps=new Map;this._init_rects();this._init_regions(a,c);this._init_bitmap(a,c)}var a=c.prototype;a.getSkinType=function(){return this._type};a.getSkinResource=function(){return this._skinResource};a.getCacheDataURL=function(b){return b&&this._bitmaps.has(b)?this._bitmaps.get(b):this._bitmaps.has("rect")?this._bitmaps.get("rect"):null};a.__init_rect=function(b,a){a&&this._rects.set(b,a)};a._init_rects=function(){this.__init_rect("rect",this._config.property.rect);this.__init_rect("highlight",this._config.property.highlight);this.__init_rect("push",this._config.property.push);this.__init_rect("disable",this._config.property.disable);this.__init_rect("checked",this._config.property.checked);this.__init_rect("checkedHighlight",this._config.property.checkedHighlight);this.__init_rect("checkedPush",this._config.property.checkedPush);this.__init_rect("checkedDisable",this._config.property.checkedDisable)};a.__init_region=function(b,a,c,e){c=void 0!=c?c:a.w;e=void 0!=e?e:a.h;a&&this._regions.set(b,jees.UT.Grid(this._config.property.region,a.w,a.h,c,e))};a._init_regions=function(b,a){var c=this;this._rects.forEach(function(d,f){c.__init_region(f,d,b,a)})};a.__init_bitmap=function(b,a,c){if(b){var d=this._rects.get(b),f=this._regions.get(b),m=jees.CJS.newBitmap(this._resource);m.sourceRect=jees.CJS.newRect(d.x,d.y,d.w,d.h);var h=jees.CJS.newContainer(),l=d.x,r=d.y;f.forEach(function(b){var a=m.clone();a.sourceRect=jees.CJS.newRect(l+b.x,r+b.y,b.w,b.h);a.x=b.dx;a.y=b.dy;a.scaleX=b.sw;a.scaleY=b.sh;h.addChild(a)});h.cache(0,0,a,c);this._bitmaps.set(b,h.getCacheDataURL())}};a._init_bitmap=function(b,a){var c=this;this._rects.forEach(function(d,f){c.__init_bitmap(f,b,a)})};jees.UI.Skin=c})();this.jees=this.jees||{};this.jees.UI=this.jees.UI||{};(function(){function c(){this.height=this.width=this.h=this.w=this.y=this.x=0;this.scaleY=this.scaleX=1;this.style=this.alignY=this.alignX=0;this.visibleMask=this.enableMask=!1;this.layoutY=this.layoutX=null;this.enableSkin=!0;this.childs=this.rect=this.region=this.resource=this.skinType=this.skinResource=null;this.state=!1;this._widget=null}var a=c.prototype;a.initialize=function(b){if(!b)throw"\u63a7\u4ef6\u4e0d\u80fd\u4e3a\u7a7a!";this._widget=b;this._reset_size();this._reset_position()};a.getPosition=function(){return{x:this.x,y:this.y}};a.setPosition=function(b,a){b&&(this.x=b);a&&(this.y=a)};a.getSize=function(b){return b?{w:this.width,h:this.height}:{w:this.w,h:this.h}};a.setSize=function(b,a){b&&(this.width=b);a&&(this.height=a);this._reset_size()};a.getScale=function(){return{x:this.scaleX,y:this.scaleY}};a.setScale=function(b,a){b&&(this.scaleX=b);a&&(this.scaleY=a)};a.getAlign=function(){return{x:this.alignX,y:this.alignY}};a.setAlign=function(b,a){b&&(this.alignX=b);a&&(this.alignY=a);this._reset_position()};a._calculate_size=function(b,a,c){return b&&"string"==typeof b?"default"==b.toLowerCase()?0:"auto"==b.toLowerCase()?a-c:-1!=b.indexOf("%")?parseInt(b.substring(0,b.length-1))*a/100:parseInt(b):b};a._reset_size=function(){var b=this._widget.parent,a=null,a=b?b instanceof createjs.Stage||b instanceof createjs.StageGL?jees.APP.getScreenSize():b.getSize():jees.APP.getScreenSize(),c=0,e=0,f=this.getSize(!0);b&&(this.layoutX||this.layoutY)&&("string"==typeof f.w&&"auto"==f.w.toLowerCase()||"string"==typeof f.h&&"auto"==f.h.toLowerCase())&&(this.layoutX&&this.layoutX.split(",").forEach(function(a){a=b.getChildByName(a);a.property.state||a.initialize();c+=a.getSize().w}),this.layoutY&&this.layoutY.split(",").forEach(function(a){a=b.getChildByName(a);a.property.state||a.initialize();e+=a.getSize().h}));this.w=this._calculate_size(f.w,a.w,c);this.h=this._calculate_size(f.h,a.h,e)};a._reset_position=function(){var b=this._widget.parent,b=b?b instanceof createjs.Stage||b instanceof createjs.StageGL?jees.APP.getScreenSize():b.getSize():jees.APP.getScreenSize(),a=this.getPosition(),c=this.getSize(),e=a.x,a=a.y;2==this.alignX?e=b.w-c.w-e:1==this.alignX&&(e=(b.w-c.w)/2+e);2==this.alignY?a=b.h-c.h-a:1==this.alignY&&(a=(b.h-c.h)/2+a);this.x=e;this.y=a};jees.UI.Property=c})();this.jees=this.jees||{};this.jees.UI=this.jees.UI||{};(function(){function c(){this.Container_constructor();this.property=new jees.UI.Property}var a=createjs.extend(c,createjs.Container);a.initialize=function(){this.property.state||(this.property.state=!0,this.property.initialize(this),this._reset_size(),this._reset_position(),this._reset_scale(),this._reset_mask(),this._init_childs())};a.getAbsPosition=function(){var b=this.getConcatenatedMatrix();return{x:b.tx,y:b.ty}};a.setSize=function(b,a){this.property.setSize(b,a);this._reset_size()};a.getSize=function(b){return this.property.getSize(b)};a.setPosition=function(b,a){this.property.setPosition(b,a);this._reset_position()};a.getPosition=function(){return this.property.getPosition()};a.setScale=function(b,a){this.property.setScale(b,a);this._reset_scale()};a.getScale=function(){return this.property.getScale()};a.setAlign=function(b,a){this.property.setAlign(b,a);this._reset_position()};a.getAlign=function(){return this.property.getAlign()};a._cache=function(){this.getPosition();this.getSize();var b=this.getBounds();this.cache(b.x,b.y,b.width,b.height)};a._reset_size=function(){this.getPosition();var b=this.getSize();this.setBounds(0,0,b.w,b.h);this.property.enableMask&&this._reset_mask()};a._reset_position=function(){var b=this.getPosition();this.x=b.x;this.y=b.y};a._reset_scale=function(){var b=this.getScale();this.scaleX=b.x;this.scaleY=b.y};a._reset_mask=function(){if(this.property.enableMask){var b=this.property.getSize(),a=this.getPosition();null==this.mask&&(this.mask=jees.CJS.newShape(b.w,b.h,"#000000"),this.property.visibleMask&&this.addChildAt(this.mask,0));this.mask&&this.property.visibleMask&&(this.mask.alpha=.5,this.mask.cache(a.x,a.y,b.w,b.h),this.mask.graphics.drawRect(a.x,a.y,b.w,b.h))}};a._init_childs=function(){if(this.children)for(var b=0;b<this.children.length;b++){var a=this.children[b];(a instanceof jees.UI.Widget||a instanceof jees.UI.TextBox||a instanceof jees.UI.ImageBox||a instanceof jees.UI.ImageSpt||a instanceof jees.UI.InputBox)&&a.initialize();this.property.enableMask&&(a.mask=this.mask)}};jees.UI.Widget=createjs.promote(c,"Container")})();this.jees=this.jees||{};this.jees.UI=this.jees.UI||{};(function(){function c(){this.Widget_constructor();this.property.skinResource="default";this.property.skinType="Panel";this.bgScaleY=this.bgScaleX=1;this._background=this._skin=null}var a=createjs.extend(c,jees.UI.Widget);a.initialize=function(){this.property.state||(this.Widget_initialize(),this._reset_background())};a.setSkinType=function(b){this.property.skinType=b;this._reset_background()};a._reset_size=function(){this.Widget__reset_size();this._reset_background()};a._reset_background=function(){this._background||(this._background=new jees.UI.ImageBox,this.addChildAt(this._background,this.visibeMask?1:0),this._background.initialize());this.property.enableSkin?this._reset_skin():this._reset_custom()};a._reset_custom_grid=function(){var b=this.getSize(),a=jees.Resource.get(this.property.resource),c=a.width,e=a.height,f=this.property.region.split(","),c=jees.UT.Grid({l:f[0],r:f[1],t:f[2],b:f[3]},c,e,b.w,b.h),g=jees.CJS.newContainer(),h=jees.CJS.newBitmap(a);c.forEach(function(b){var a=h.clone();a.sourceRect=jees.CJS.newRect(b.x,b.y,b.w,b.h);a.x=b.dx;a.y=b.dy;a.scaleX=b.sw;a.scaleY=b.sh;a.cache(0,0,b.w,b.h);g.addChild(a)});g.cache(0,0,b.w,b.h);g.getBounds();this.property.resource=g.getCacheDataURL();this._background.setSize(b.w,b.h);this._reset_background_resource()};a._reset_custom=function(){var b=this.getSize();this._reset_background_resource();switch(this.property.style){case 1:var a=jees.Resource.get(this.property.resource);this._background.setScale(b.w/a.width,b.h/a.height);break;case 2:null==this.mask&&(this.mask=jees.CJS.newShape());this.addChildAt(this.mask,0);this.mask.graphics.beginBitmapFill(this._background.image).drawRect(0,0,b.w,b.h);this.mask.cache(0,0,b.w,b.h);break;case 3:this._reset_custom_grid()}};a._reset_skin=function(){var b=this.getSize();this._skin||(this._skin=new jees.UI.Skin(this.property.skinType,b.w,b.h,this.property.skinResource));if(this._skin.getSkinType()!=this.property.skinType||this._skin.getSkinResource()!=this.property.skinResource)this._skin=new jees.UI.Skin(this.property.skinType,b.w,b.h,this.property.skinResource);this.property.resource=this._skin.getCacheDataURL("rect");this._reset_background_resource()};a._reset_background_resource=function(){this._background.getResource()!=this.property.resource&&this._background.setResource(this.property.resource)};jees.UI.Panel=createjs.promote(c,"Widget")})();this.jees=this.jees||{};this.jees.UI=this.jees.UI||{};(function(){function c(){this.Bitmap_constructor();this.property=new jees.UI.Property}var a=createjs.extend(c,createjs.Bitmap);a.initialize=function(){this.property.state||(this.property.state=!0,this.property.initialize(this),this._reset_bitmap(),this._reset_position())};a.getResource=function(){return this.property.resource};a.setResource=function(b){this.property.resource=b;this._reset_bitmap()};a.getSize=function(b){return this.property.getSize(b)};a.setSize=function(b,a){this.property.setSize(b,a);this._reset_size()};a.getPosition=function(){return this.property.getPosition()};a.setPosition=function(b,a){this.property.setPosition(b,a);this._reset_position()};a.getAbsPosition=function(){var b=this.getConcatenatedMatrix();return{x:b.tx,y:b.ty}};a.getScale=function(){return this.property.getScale()};a.setScale=function(b,a){this.property.setScale(b,a);this._reset_scale()};a.getRect=function(){return this.sourceRect};a.setRect=function(b,a,c,e){this.property.rect=b+","+a+","+c+","+e;this._reset_rect()};a.setReg=function(b,a){b&&(this.regX=b);a&&(this.regY=a)};a.getReg=function(){return{x:this.regX,y:this.regY}};a._cache=function(){this.getPosition();this.getSize();var b=this.getBounds();this.cache(0,0,b.width,b.height)};a._reset_bitmap=function(){"string"==typeof this.property.resource?this.property.resource.startsWith("data:image")?(this.image=document.createElement("img"),this.image.src=this.property.resource):/\.(gif|jpg|jpeg|png|GIF|JPG|PNG)$/.test(this.property.resource)?(this.image=document.createElement("img"),this.image.src=this.property.resource):this.image=jees.Resource.get(this.property.resource):this.image=this.property.resource;this._reset_rect();this._reset_size();this._reset_scale()};a._reset_size=function(){this.image&&("default"==this.property.width&&this.property.setSize(this.image.width,this.property.height),"default"==this.property.height&&this.property.setSize(this.property.width,this.image.height));var b=this.getSize(),a=this.getBounds();a&&(1==this.property.scaleX&&(this.property.scaleX=b.w/a.width),1==this.property.scaleY&&(this.property.scaleY=b.h/a.height))};a._reset_position=function(){var b=this.getPosition(),a=this.getSize(),c=this.getScale(),e=b.x,f=b.y,g=a.w*c.x,a=a.h*c.y;2==this.property.alignX?e=b.x-g:1==this.property.alignX&&(e=b.x-g/2);2==this.property.alignY?f=b.y-a:1==this.property.alignY&&(f=b.y-a/2);this.x=e;this.y=f};a._reset_rect=function(){if(this.property.rect){var b=this.property.rect.split(",");this.sourceRect=jees.CJS.newRect(b[0],b[1],b[2],b[3]);this.setBounds(b[0],b[1],b[2],b[3]);this._cache()}};a._reset_scale=function(){var b=this.getScale();this.scaleX=b.x;this.scaleY=b.y};jees.UI.ImageBox=createjs.promote(c,"Bitmap")})();this.jees=this.jees||{};this.jees.UI=this.jees.UI||{};(function(){function c(){this.Sprite_constructor();this.property=new jees.UI.Property;this.cols=this.rows=1;this.start=0;this.speed=100;this.auto=!0;this._data=null;this._frame_count=1}var a=createjs.extend(c,createjs.Sprite);a.initialize=function(){if(!this.property.state){this.property.state=!0;this.property.initialize(this);var b=jees.Resource.get(this.property.resource),a=b.width/this.cols,c=b.height/this.rows;this._frame_count=this.cols*this.rows;this._data={images:[b],framerate:this._frame_count,frames:{width:a,height:c,count:this._frame_count,regX:this.regX,regY:this.regY},animations:{default:[0,this._frame_count-1,"default",1]}};this.spriteSheet=new createjs.SpriteSheet(this._data);0==this.property.w&&(this.property.w=b.width);0==this.property.h&&(this.property.h=b.height);this.setSize(this.property.w,this.property.h);this._reset_speed();this._reset_position();this._goto(this.start);this.auto&&this.gotoAndPlay("default")}};a.getSize=function(b){return this.property.getSize(b)};a.setSize=function(b,a){this.property.setSize(b,a);this._reset_size()};a.getPosition=function(){return this.property.getPosition()};a.setPosition=function(b,a){this.property.setPosition(b,a);this._reset_position()};a.getAbsPosition=function(){var b=this.getConcatenatedMatrix();return{x:b.tx,y:b.ty}};a.getScale=function(){return this.property.getScale()};a.setScale=function(b,a){this.property.setScale(b,a);this._reset_scale()};a.setRect=function(b,a,c,e){this.region=b+","+a+","+c+","+e;this.sourceRect=jees.CJS.newRect(b,a,c,e);this.setBounds(b,a,c,e)};a.setReg=function(b,a){b&&(this.regX=b);a&&(this.regY=a)};a.setSpeed=function(b){this.speed=b;this._reset_speed()};a._reset_size=function(){this.getPosition();var b=this.getSize();this.setBounds(0,0,b.w,b.h);var a=this.getBounds();this.property.scaleX=b.w/a.width;this.property.scaleY=b.h/a.height;this._reset_scale()};a._reset_position=function(){var b=this.getPosition();this.x=b.x;this.y=b.y};a._reset_scale=function(){var b=this.getScale();this.scaleX=b.x;this.scaleY=b.y};a._reset_speed=function(){var b=1E3/jees.SET.getFPS()/this.speed;this._data.animations.default[3]=b;this.spriteSheet._parseData(this._data)};jees.UI.ImageSpt=createjs.promote(c,"Sprite")})();this.jees=this.jees||{};this.jees.UI=this.jees.UI||{};(function(){function c(){this.Text_constructor("","","");this.property=new jees.UI.Property;this.bold=this.italic=!1;this.fontStyle="Arial";this.fontSize=12;this._drawText=this._reset_text}c.ALIGN_START="start";c.ALIGN_END="end";c.ALIGN_LEFT="left";c.ALIGN_RIGHT="right";c.ALIGN_CENTER="center";c.BASELINE_TOP="top";c.BASELINE_HANGING="hanging";c.BASELINE_MIDDLE="middle";c.BASELINE_ALPHABETIC="alphabetic";c.BASELINE_IDEOGRAPHIC="ideographic";c.BASELINE_BOTTOM="bottom";var a=createjs.extend(c,createjs.Text);a.initialize=function(){this.property.state||(this.property.state=!0,this.property.initialize(this),this.font=this._get_font(),this.lineHeight=this.getFontSize(),this.setColor(this.color),this.setText(this.text),this._reset_position(),this._cache())};a.getSize=function(){return{w:this.getMeasuredWidth(),h:this.getMeasuredLineHeight()}};a.getPosition=function(){return this.property.getPosition()};a.setPosition=function(b,a){this.property.setPosition(b,a);this._reset_position()};a.getAbsPosition=function(){var b=this.getConcatenatedMatrix();return{x:b.tx,y:b.ty}};a.getColor=function(){return this.color};a.setColor=function(b){this.color=b};a.setFont=function(b,a,c,e){this._set_font(b,a,c,e);this.font=this._get_font()};a.getFontStyle=function(){return this.fontStyle};a.setFontStyle=function(b){this.fontStyle=b;this.font=this._get_font()};a.getFontSize=function(){return this.fontSize};a.setFontSize=function(b){this.fontSize=b;this.lineHeight=this.fontSize+"px";this.font=this._get_font()};a.getAlign=function(){return this.textAlign};a.setAlign=function(b){this.textAlign=b};a.getBaseline=function(){return this.textBaseline};a.setBaseline=function(b){this.textBaseline=b};a.getMaxWidth=function(){return this.maxWidth};a.setMaxWidth=function(b){this.maxWidth=b};a.getLineWidth=function(){return this.lineWidth};a.setLineWidth=function(b){this.lineWidth=b};a.getText=function(){return this.text};a.setText=function(b){this.text=b;this._cache()};a.isBold=function(){return this.bold};a.setBold=function(b){this.bold=b;this.font=this._get_font()};a.isItalic=function(){return this.italic};a.setItalic=function(b){this.italic=b;this.font=this._get_font()};a.setVisible=function(b){this.visible=b};a.isVisible=function(){return this.visible};a._cache=function(){var b=this.getSize();this.cache(0,0,b.w,b.h)};a._get_font=function(){return(this.italic?"italic":"")+(this.bold?" bold":"")+" "+this.fontSize+"px "+this.fontStyle};a._set_font=function(b,a,c,e){this.fontSize=b;this.fontStyle=a?a:"Arial";this.italic=c||this.italic;this.bold=e||this.bold};a._reset_position=function(){var b=this.getPosition(),a=this.getSize(),c=b.x,e=b.y;2==this.property.alignX?c=b.x-a.w:1==this.property.alignX&&(c=b.x-a.w/2);2==this.property.alignY?e=b.y-a.h:1==this.property.alignY&&(e=b.y-a.h/2);this.x=c;this.y=e};a._reset_text=function(b,a,c){var d=!!b;d||(b=createjs.Text._workingContext,b.save(),this._prepContext(b));for(var f=this.lineHeight||this.getMeasuredLineHeight(),g=0,h=0,l=String(this.text).split(/(?:\r\n|\r|\n)/),m=0,t=l.length;m<t;m++){var k=l[m],n=null;if(null!=this.lineWidth&&(n=b.measureText(k).width)>this.lineWidth){for(var q=k.split(/(\s|[\u4e00-\u9fa5]+)/),k=[],n=0;n<q.length;n++){var p=q[n];""!=p&&(/([\u4e00-\u9fa5]+)/.test(p)?k=k.concat(p.split("")):k.push(p))}for(var q=k,k=q[0],n=b.measureText(k).width,p=1,v=q.length;p<v;p+=2){var u=p+1<v?q[p+1]:"",w=b.measureText(q[p]+u).width;n+w>this.lineWidth?("s"!=q[p]&&(k+=q[p]),d&&this._drawTextLine(b,k,h*f),c&&c.push(k),n>g&&(g=n),k=u,n=b.measureText(k).width,h++):(k+=q[p]+u,n+=w)}}d&&this._drawTextLine(b,k,h*f);c&&c.push(k);a&&null==n&&(n=b.measureText(k).width);n>g&&(g=n);h++}a&&(a.width=g,a.height=h*f);d||b.restore();return a};jees.UI.TextBox=createjs.promote(c,"Text")})();this.jees=this.jees||{};this.jees.UI=this.jees.UI||{};(function(){function c(){this.ImageSpt_constructor();this.property.skinResource="Button";this.text="";this.types=4;this.bold=this.italic=this.disable=!1;this.fontStyle="Arial";this.fontSize=12;this.color="#FFFFFF";this.spriteY=this.spriteX=0;this.region="";this._text=new jees.UI.TextBox}var a=createjs.extend(c,jees.UI.ImageSpt);a.initialize=function(){if(!this.property.state){this.property.state=!0;this.property.initialize(this);this._init_background();this._init_text();var b=this;-1!=this.types.indexOf("push")&&(jees.E.bind(this,"mousedown",function(a){b._handle_mousedown(a,b)}),jees.E.bind(this,"pressup",function(a){b._handle_pressup(a,b)}));-1!=this.types.indexOf("highlight")&&(jees.E.bind(this,"mouseover",function(a){b._handle_mouseover(a,b)}),jees.E.bind(this,"mouseout",function(a){b._handle_mouseout(a,b)}));this._reset_disable();this._reset_position()}};a.setDisabled=function(b){this.disable=b};a.isDisabled=function(){return this.disable};a.setText=function(b){this._text.setText(b)};a.getText=function(){return this._text.text};a.setPosition=function(b,a){this.property.setPosition(b,a);this._reset_position()};a._init_skin=function(){var b=this.getSize();this._skin=new jees.UI.Skin(this.property.skinResource,b.w,b.h,jees.SET.getSkin());this._data.images.push(this._skin.getCacheDataURL("rect"));this._data.images.push(this._skin.getCacheDataURL("highlight"));this._data.images.push(this._skin.getCacheDataURL("push"));this._data.images.push(this._skin.getCacheDataURL("disable"))};a._init_custom=function(){var b=jees.CJS.newBitmap(jees.Resource.get(this.property.resource)),a=b.getBounds(),c=this.types.split(",").length,e=this.getSize(),f=0==this.spriteX?e.w:this.spriteX,g=0==this.spriteY?e.h:this.spriteY,e=0==this.spriteX?a.width:this.spriteX,a=0==this.spriteY?a.height:this.spriteY,h=null;""!=this.region&&(h=this.region.split(","),h=jees.UT.Grid({l:h[0],r:h[1],t:h[2],b:h[3]},e,a,f,g));for(e=0;e<c;e++){var l=b.clone(),r=this.spriteX*e,t=this.spriteY*e;l.sourceRect=jees.CJS.newRect(r,t,f,g);l.cache(0,0,f,g);if(""!=this.region){var k=jees.CJS.newContainer();h.forEach(function(b){var a=l.clone();a.sourceRect=jees.CJS.newRect(r+b.x,t+b.y,b.w,b.h);a.x=b.dx;a.y=b.dy;a.scaleX=b.sw;a.scaleY=b.sh;a.cache(0,0,f,g);k.addChild(a)});k.cache(0,0,f,g);this._data.images.push(k.bitmapCache.getCacheDataURL())}else this._data.images.push(l.bitmapCache.getCacheDataURL())}};a._init_background=function(){var b=this.getSize();this._data={images:[],frames:{width:b.w,height:b.h,count:4},animations:{normal:[0,0,"normal"],highlight:[1,1,"highlight"],push:[2,2,"push"],disable:[3,3,"disable"],test:[0,3,"test",.15]}};this.property.resource&&""!=this.property.resource?this._init_custom():this._init_skin();this.spriteSheet=new createjs.SpriteSheet(this._data);this.gotoAndPlay("test")};a._init_text=function(){var b=this.parent,a=this._text;b.addChildAt(a,b.getChildIndex(this)+1);a.setText(this.text);a.setFontSize(this.fontSize);a.setFontStyle(this.fontStyle);a.setColor(this.color);a.setItalic(this.italic);a.setBold(this.bold);a.initialize()};a._reset_disable=function(){this.disable?this.gotoAndPlay("disable"):this.gotoAndPlay("normal")};a._handle_mousedown=function(b,a){if(!a.isDisabled()){b=a._text;var c=b.getPosition(),d=b.getFontSize()/10;b.setPosition(c.x-d,c.y-d);a.gotoAndPlay("push")}};a._handle_pressup=function(b,a){if(!a.isDisabled()){b=a._text;var c=b.getPosition(),d=b.getFontSize()/10;b.setPosition(c.x+d,c.y+d);a.gotoAndPlay("normal")}};a._handle_mouseover=function(b,a){a.isDisabled()||a.gotoAndPlay("highlight")};a._handle_mouseout=function(b,a){a.isDisabled()||a.gotoAndPlay("normal")};a._reset_position=function(){this.ImageSpt__reset_position();var b=this.getSize(),a=this._text,c=a.getSize();a.setPosition(this.x+b.w/2-c.w/2,this.y+(b.h/2-c.h/2))};jees.UI.Button=createjs.promote(c,"ImageSpt")})();this.jees=this.jees||{};this.jees.UI=this.jees.UI||{};(function(){function c(){this.Button_constructor();this.property.skinResource="CheckBox";this.checked=!1;this.group="";this.textY=this.textX=0;this._text=new jees.UI.TextBox}var a=createjs.extend(c,jees.UI.Button);a.initialize=function(){if(!this.property.state){this.property.state=!0;this.property.initialize(this);this._init_background();this._init_text();var b=this;-1!=this.types.indexOf("push")&&(jees.E.bind(this,"mousedown",function(a){b._handle_mousedown(a,b)}),jees.E.bind(this,"pressup",function(a){b._handle_pressup(a,b)}));-1!=this.types.indexOf("highlight")&&(jees.E.bind(this,"mouseover",function(a){b._handle_mouseover(a,b)}),jees.E.bind(this,"mouseout",function(a){b._handle_mouseout(a,b)}));jees.E.bind(this,"click",function(a){b._handle_click(a,b)});this._reset_disable();this._reset_position()}};a.setChecked=function(b){this.checked=b};a.isChecked=function(){return this.checked};a._init_skin=function(){var b=this.getSize();this._skin=new jees.UI.Skin(this.property.skinResource,b.w,b.h,jees.SET.getSkin());this._data.images.push(this._skin.getCacheDataURL("rect"));this._data.images.push(this._skin.getCacheDataURL("highlight"));this._data.images.push(this._skin.getCacheDataURL("push"));this._data.images.push(this._skin.getCacheDataURL("disable"));this._data.images.push(this._skin.getCacheDataURL("checked"));this._data.images.push(this._skin.getCacheDataURL("checkedHighlight"));this._data.images.push(this._skin.getCacheDataURL("checkedPush"));this._data.images.push(this._skin.getCacheDataURL("checkedDisable"))};a._init_custom=function(){var b=jees.CJS.newBitmap(jees.Resource.get(this.property.resource)),a=b.getBounds(),c=this.types.split(",").length,e=this.getSize(),f=0==this.spriteX?e.w:this.spriteX,g=0==this.spriteY?e.h:this.spriteY,e=0==this.spriteX?a.width:this.spriteX,a=0==this.spriteY?a.height:this.spriteY,h=null;""!=this.region&&(h=this.region.split(","),h=jees.UT.Grid({l:h[0],r:h[1],t:h[2],b:h[3]},e,a,f,g));for(e=0;e<c;e++){var l=b.clone(),r=this.spriteX*e,t=this.spriteY*e;l.sourceRect=jees.CJS.newRect(r,t,f,g);l.cache(0,0,f,g);if(""!=this.region){var k=jees.CJS.newContainer();h.forEach(function(b){var a=l.clone();a.sourceRect=jees.CJS.newRect(r+b.x,t+b.y,b.w,b.h);a.x=b.dx;a.y=b.dy;a.scaleX=b.sw;a.scaleY=b.sh;a.cache(0,0,f,g);k.addChild(a)});k.cache(0,0,f,g);this._data.images.push(k.bitmapCache.getCacheDataURL())}else this._data.images.push(l.bitmapCache.getCacheDataURL())}};a._init_background=function(){this.state=!0;var b=this.getSize();this._data={images:[],frames:{width:b.w,height:b.h,count:8},animations:{normal:[0,0,"normal"],highlight:[1,1,"highlight"],push:[2,2,"push"],disable:[3,3,"disable"],checked:[4,4,"checked"],checkedHighlight:[5,5,"checkedHighlight"],checkedPush:[6,6,"checkedPush"],checkedDisable:[7,7,"checkedDisable"]}};this.property.resource&&""!=this.property.resource?this._init_custom():this._init_skin();this.spriteSheet=new createjs.SpriteSheet(this._data);this.gotoAndPlay("normal")};a._reset_disable=function(){this.disable?this.gotoAndPlay(this.checked?"checkedDisable":"disable"):this.gotoAndPlay(this.checked?"checked":"normal")};a._handle_mousedown=function(b,a){a.isDisabled()||this.gotoAndPlay(this.checked?"checkedPush":"push")};a._handle_pressup=function(b,a){a.isDisabled()||this.gotoAndPlay(this.checked?"checked":"normal")};a._handle_mouseover=function(b,a){a.isDisabled()||a.gotoAndPlay(a.checked?"checkedHighlight":"highlight")};a._handle_mouseout=function(b,a){a.isDisabled()||a.gotoAndPlay(a.checked?"checked":"normal")};a._handle_click=function(b,a){a.isDisabled()||(a.setChecked(!a.checked),a.gotoAndPlay(a.checked?"checked":"normal"))};a._reset_position=function(){this.ImageSpt__reset_position();var b=this.getPosition(),a=this.getSize(),c=this._text,e=c.getSize();c.setPosition(b.x+a.w/2-e.w/2+this.textX,b.y+(a.h/2-e.h/2)+this.textY)};jees.UI.CheckBox=createjs.promote(c,"Button")})();this.jees=this.jees||{};this.jees.UI=this.jees.UI||{};(function(){function c(){this.ImageBox_constructor();this.property=new jees.UI.Property;this.property.skinResource="InputBox";this.placeholder="";this.fontSize=12;this.color="#FFFFFF";this.password=!1;this._skin=null;var b=document.body,a=document.createElement("INPUT");b.appendChild(a);this._object=new createjs.DOMElement(a);this._input=this._object.htmlElement;this._mask=null}var a=createjs.extend(c,jees.UI.ImageBox);a.initialize=function(){if(!this.property.state){this.property.state=!0;this.property.initialize(this);this._init_background();this.property.enableMask&&(this._mask=new jees.UI.TextBox,this._init_text());this._reset_size();this._reset_position();this._reset_input();var b=this;this.property.enableMask&&(this._input.hidden=!0,jees.E.bind(this,"click",function(a){b._input.hidden=!1;b._input.focus()}),this._input.style.setProperty("hidden","true"),this._input.onfocus=function(a){b._input.hidden=!1;b._mask.setVisible(!1)},this._input.onblur=function(a){b._input.hidden=!0;b._mask.setVisible(!0);b._reset_text()},this._input.onchange=function(a){b._input.hidden=!0})}};a._cache=function(){this.getPosition();this.getSize();var a=this.getBounds();this.cache(0,0,a.width,a.height)};a._init_skin=function(){var a=this.getSize();this._skin||(this._skin=new jees.UI.Skin(this.property.skinResource,a.w,a.h,jees.SET.getSkin()),this.property.resource=this._skin.getCacheDataURL("rect"),this.image.src=this.property.resource)};a._init_custom_grid=function(){var a=this.getSize(),c=jees.Resource.get(this.property.resource),m=c.width,e=c.height,f=this.property.region.split(","),m=jees.UT.Grid({l:f[0],r:f[1],t:f[2],b:f[3]},m,e,a.w,a.h),g=jees.CJS.newContainer(),h=jees.CJS.newBitmap(c);m.forEach(function(b){var c=h.clone();c.sourceRect=jees.CJS.newRect(b.x,b.y,b.w,b.h);c.x=b.dx;c.y=b.dy;c.scaleX=b.sw;c.scaleY=b.sh;c.cache(0,0,a.w,a.h);g.addChild(c)});g.cache(0,0,a.w,a.h);this.image.src=g.bitmapCache.getCacheDataURL()};a._init_custom=function(){""!=this.property.region?this._init_custom_grid():this.image.src=jees.Resource.get(this.property.resource)};a._init_background=function(){this.image=document.createElement("img");this.property.resource&&""!=this.property.resource?this._init_custom():this._init_skin()};a._init_text=function(){this.parent.addChildAt(this._mask,this.parent.getChildIndex(this)+1);this._mask.setFontSize(this.fontSize);this._mask.setColor(this.color)};a._reset_position=function(){var a=this.getAbsPosition(),c=this.getPosition(),m=this._input.style;m.setProperty("left",a.x+this.fontSize/2+"px");m.setProperty("top",a.y+"px");this._mask&&this._mask.setPosition(c.x+this.fontSize/2,c.y+this._mask.fontSize)};a._reset_size=function(){var a=this.getSize(),c=this._input.style;c.setProperty("height",a.h+"px");c.setProperty("width",a.w-this.fontSize+"px")};a._reset_input=function(){var a=this._input.style;this._input.type=this.password?"password":"text";this._input.placeholder=this.placeholder;a.setProperty("color",this.color);this._reset_text()};a._reset_text=function(){this._mask&&this._mask.setText(""!=this._input.value?this._input.value:this.placeholder)};jees.UI.InputBox=createjs.promote(c,"ImageBox")})();
//# sourceMappingURL=jees.min.js.map
