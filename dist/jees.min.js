var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(c,b,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");c!=Array.prototype&&c!=Object.prototype&&(c[b]=a.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+$jscomp.symbolCounter_++};$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(c){var b=0;return $jscomp.iteratorPrototype(function(){return b<c.length?{done:!1,value:c[b++]}:{done:!0}})};$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.makeIterator=function(c){$jscomp.initSymbolIterator();var b=c[Symbol.iterator];return b?b.call(c):$jscomp.arrayIterator(c)};this.jees=this.jees||{};(function(){function c(a){if(!a)throw"\u6a21\u5757\u5fc5\u987b\u8bbe\u7f6eID\u3002";this.id=a}var b=c.prototype;b.getId=function(){return this.id};b.enter=function(){};b.leave=function(){};b.update=function(a){};b.interrupt=function(){};b.recovery=function(){};jees.Module=c})();this.jees=this.jees||{};(function(){function c(){throw"UtilTools cannot be instantiated.";}c.Random=function(){function b(){a=(9301*a+49297)%233280;return a/233280}var a=(new Date).getTime();return function(a,c){return Math.ceil(b()*a)+(c?c:0)}}();c.RandomColor=function(){function b(){var a=jees.UT.Random(256);return 10>a?"0"+a:a.toString(16)}return function(){return"#"+b()+b()+b()}}();c.OppositeColor=function(){function b(a){a=255-a;64<a&&128>a?a-=64:128<=a&&192>a&&(a+=64);return 10>a?"0"+a:a.toString(16)}return function(a){var d=parseInt(a.substring(1,3),16),c=parseInt(a.substring(3,5),16);a=parseInt(a.substring(5),16);d=b(d);c=b(c);a=b(a);return"#"+d+c+a}}();c.Grid=function(){function b(a,d,b,c,e){1==d?(d=[e],e=[0]):2==d?0!=a.t?(d=[a.t,e-a.t],e=[0,a.t]):(d=[e-a.b,a.b],e=[0,e-a.b]):(d=[a.t,e-a.t-a.b,a.b],e=[0,a.t,e-a.b]);1==b?(b=[c],a=[0]):2==b?0!=a.l?(b=[a.l,c-a.l],a=[0,a.l]):(b=[c-a.r,a.r],a=[0,c-a.r]):(b=[a.l,c-a.l-a.r,a.r],a=[0,a.l,c-a.r]);return{x:a,y:e,w:b,h:d}}return function(a,d,c,f,e){var r=[],h=1,m=1;0!=a.l&&m++;0!=a.r&&m++;0!=a.t&&h++;0!=a.b&&h++;d=b(a,h,m,d,c);a=b(a,h,m,f,e);for(f=0;f<h;f++)for(e=0;e<m;e++)c={x:d.x[e],y:d.y[f],w:d.w[e],h:d.h[f],dx:a.x[e],dy:a.y[f],dw:a.w[e],dh:a.h[f],sw:a.w[e]/d.w[e],sh:a.h[f]/d.h[f]},"string"==typeof c.x&&(c.x=parseInt(c.x)),"string"==typeof c.y&&(c.y=parseInt(c.y)),"string"==typeof c.w&&(c.w=parseInt(c.w)),"string"==typeof c.h&&(c.h=parseInt(c.h)),"string"==typeof c.dx&&(c.dx=parseInt(c.dx)),"string"==typeof c.dy&&(c.dy=parseInt(c.dy)),"string"==typeof c.dw&&(c.dw=parseInt(c.dw)),"string"==typeof c.dh&&(c.dh=parseInt(c.dh)),"string"==typeof c.sw&&(c.sw=parseFloat(c.sw)),"string"==typeof c.sh&&(c.sh=parseFloat(c.sh)),r.push(c);return r}}();jees.UT=c})();this.jees=this.jees||{};(function(){jees.TL_STRING=function(){throw"StringTools cannot be instantiated.";}})();this.jees=this.jees||{};(function(){function c(){throw"jees.CJS\u4e0d\u5141\u8bb8\u505a\u521d\u59cb\u5316\u64cd\u4f5c\u3002";}c.startup=function(){};c.get=function(){return createjs};c.getTickerTime=function(){return this.getTicker().getMeasuredTickTime().toFixed(0)};c.getFPS=function(){return this.getTicker().getMeasuredFPS().toFixed(0)};c.getTouch=function(){return createjs.Touch};c.getTicker=function(){return createjs.Ticker};c.getSound=function(){return createjs.Sound};c.newContainer=function(){return new createjs.Container};c.newShape=function(b,a,d){var c=new createjs.Shape,f=c.graphics;d&&f.beginFill(d);b&&a&&f.drawRect(0,0,b,a);(d||b&&a)&&f.endFill();return c};c.newObject=function(){return new createjs.DisplayObject};c.newBox=function(b,a,d){var c=new createjs.Shape;c.graphics.beginStroke(d).drawRect(0,0,b,a);return c};c.newBitmap=function(b){return new createjs.Bitmap(b)};c.newRect=function(b,a,d,c){return new createjs.Rectangle(b,a,d,c)};c.newText=function(b,a,d){return new createjs.Text(b,a,d)};jees.CJS=c})();this.jees=this.jees||{};(function(){function c(){throw"Device cannot be instantiated.";}c.width=0;c.height=0;c.startup=function(){this.width=window.innerWidth;this.height=window.innerHeight;if("stretch"==jees.SET.getDisplay()){var b=jees.DEV.width/jees.SET.getWidth(),a=jees.DEV.height/jees.SET.getHeight(),d=jees.APP.getCanvas();d.style.width=jees.SET.getWidth()*b+"px";d.style.height=jees.SET.getHeight()*a+"px"}};c.isPortrait=function(){return 0==window.orientation};jees.DEV=c})();this.jees=this.jees||{};(function(){function c(){throw"Debug cannot be instantiated.";}c._init=!1;c._width=200;c._height=100;c._wgt_text=null;c._wgt_panel=null;c._print="";c.print=function(b){this._print=b};c.startup=function(){jees.SET.isDebug()&&!this._init&&(this._init=!0,jees.CM._get_container(jees.CM.Container.DEBUG),this.panel=new jees.Panel,this.panel.setSize(this._width,this._height),this.panel.setColor("#8080C0"),this.panel.setBackAlpha(.5),this._wgt_text=new jees.TextBox,this._wgt_text.setColor("#FFFF00"),this._wgt_text.setMaxWidth(this._width),this._wgt_text.setLineWidth(this._height),this.panel.addWidget(this._wgt_text),jees.CM.addWidget(this.panel,!1,jees.CM.Container.DEBUG),jees.CM.update(jees.CM.Container.DEBUG))};c.update=function(){if(jees.SET.isDebug()){var b=" \u5e27\u7387: "+jees.CJS.getFPS(!0)+"\n \u56de\u8c03\u65f6\u95f4\uff1a"+jees.CJS.getTickerTime()+"ms\n \u81ea\u5b9a\u8f93\u51fa\uff1a"+this._print;this._wgt_text.setText(b)}};jees.DEBUG=c})();this.jees=this.jees||{};(function(){function c(){throw"Event cannot be instantiated.";}c.RM={FL:"fileload",C:"complete"};c.Widget={C:"click",DC:"dblclick",MD:"mousedown",MO:"mounseout",MIn:"mouseover"};c.bind=function(b,a,d){return b.on(a,d)};c.unbind=function(b,a,d){b.off(a,d)};c.tick=function(b){return jees.E.bind(createjs.Ticker,"tick",b)};c.untick=function(b){jees.E.unbind(createjs.Ticker,"tick",b)};jees.E=c})();this.jees=this.jees||{};(function(){function c(){throw"jees.SET \u4e0d\u5141\u8bb8\u505a\u521d\u59cb\u5316\u64cd\u4f5c\u3002";}c.CONFIG_FILE="../assets/configs/jees.default.config";c.SKIN_FILE="../assets/images/skin_default.png";c.config=null;c.timestamp=0;c.fps=30;c.canvas=null;c.width=0;c.height=0;c.sound=!1;c.debug=!1;c.mouseover=!1;c.display="default";c.skin="default";c.viewportScale=1;c.connector={enable:!1,host:null,port:null,path:null};c.getCanvas=function(){return this.canvas};c.getWidth=function(){return this.width};c.getHeight=function(){return this.height};c.getFPS=function(){return this.fps};c.setFPS=function(b){this.fps=b};c.getTimestamp=function(){return this.timestamp};c.setTimestamp=function(b){this.timestamp=b};c.getConfig=function(){return this.config};c.getSkin=function(){return this.skin.toLowerCase()};c.getDisplay=function(){return this.display.toLowerCase()};c.getViewportScale=function(){return this.viewportScale};c.enableSound=function(){return this.sound};c.enableDebug=function(){return this.debug};c.enableMouseOver=function(){return this.mouseover};c.enableConnector=function(){return this.connector.enable};c.startup=function(b){this.config=b;b=this.config.Setting;for(var a in b)this.hasOwnProperty(a)&&(this[a]=b[a]);"auto"==b.width&&(this.width=document.documentElement.clientWidth||document.body.clientWidth);"auto"==b.height&&(this.height=document.documentElement.clientHeight||document.body.clientHeight);for(a in b.Connector)this.connector.hasOwnProperty(a)&&(this.connector[a]=b.Connector[a])};jees.SET=c})();this.jees=this.jees||{};(function(){function c(){throw"jees.MM\u4e0d\u5141\u8bb8\u505a\u521d\u59cb\u5316\u64cd\u4f5c\u3002";}c._ids=[];c._modules=new Map;c._module=null;c.enter=function(b){if(void 0==b||!b instanceof jees.Module)throw"\u52a0\u5165\u6a21\u5757\u5bf9\u8c61\u9519\u8bef";if(this._modules.has(b.getId()))throw"\u6dfb\u52a0\u4e86\u91cd\u590d\u7684\u6a21\u5757["+b.getId()+"]";null!=this._module&&this._module.interrupt();this._ids.push(b.getId());this._modules.set(b.getId(),b);this._module=b;b.enter()};c.leave=function(){if(null!=this._module&&0!=this._ids.length){var b=this._ids.pop();this._module.leave();this._modules.delete(b);0!=this._modules.size&&(this._module=this._modules.get(this._ids[this._ids.length-1]),this._module.recovery())}};c.clear=function(){for(;0<this._modules.length;)this.leave()};c.update=function(b){for(var a=$jscomp.makeIterator(this._modules.values()),d=a.next();!d.done;d=a.next())d.value.update(b)};c.current=function(){return this._module};jees.MM=c})();this.jees=this.jees||{};(function(){function c(){throw"jees.RM\u4e0d\u5141\u8bb8\u505a\u521d\u59cb\u5316\u64cd\u4f5c\u3002";}c._queue=null;c._loader=null;c._resources=null;c._callback=null;c._handler=null;c.DEFAULT_GROUP="default";c.startup=function(){this._loader=[];this._resources=new Map;this._resources.set(this.DEFAULT_GROUP,new Map);this._queue=new createjs.LoadQueue(!1,"","Anonymous");this._queue.maintainScriptOrder=!0};c.reload=function(){jees.SET.enableSound()&&this._queue.installPlugin(createjs.Sound)};c.getProgress=function(){return this._queue.progress};c.add=function(b,a,d){var c;void 0==d?c=this._resources.get(this.DEFAULT_GROUP):this._resources.has(d)?c=this._resources.get(d):(c=new Map,this._resources.set(d,c));c.has(b)||this._loader.push({id:b,src:a,group:d})};c.onload=function(b){if(null!=this._callback)throw"\u4e0a\u6b21\u52a0\u8f7d\u5c1a\u672a\u7ed3\u675f\u3002";if(null==this._callback&&"function"===typeof b){this._callback=b;var a=this;this._handler=jees.E.bind(this._queue,"complete",function(d){a._complete_handler(d)})}0!=this._loader.length?this._queue.loadManifest(this._loader):this._complete_handler()};c.get=function(b,a){var d;d=void 0!=a?this._resources.get(a):this._resources.get(this.DEFAULT_GROUP);if(d.has(b))return d.get(b);throw"\u6ca1\u6709\u627e\u5230\u5bf9\u5e94\u8d44\u6e90\uff1aRES\x3d["+b+", GROUP\x3d["+a+"]";};c.del=function(b,a){a=void 0!=a?this._resources.get(a):this._resources.get(this.DEFAULT_GROUP);a.has(b)?a.delete(b):this._queue.remove(b)};c._complete_handler=function(b){null!=this._handler&&jees.E.unbind(this._queue,"complete",this._handler);this._loader.forEach(function(a){var d=jees.RM._queue.getResult(a.id);jees.RM._resources.get(a.group).set(a.id,d)});this._loader=[];this._callback(b);this._callback=null};jees.RM=c})();this.jees=this.jees||{};(function(){function c(){throw"CanvasManager cannot be instantiated.";}c.Container={BACK:-2,BOTTOM:-1,DEFAULT:0,TOP:1,POPUP:2,SYSTEM:3,DEBUG:4,CONSOLE:5};c._caches=null;c._containers=null;c.__update_cache_level=function(b){if(this._caches.has(b)){var a=this._caches.get(b);0<a.length&&(a=a.pop(),a.initialize(),this._containers.get(b).addChild(a))}};c._update_cache=function(){this.__update_cache_level(c.Container.DEFAULT)};c.startup=function(){this._caches=new Map;this._containers=new Map};c.update=function(b){this._update_cache()};c.addChild=function(b,a){a=a||c.Container.DEFAULT;if(this._caches.has(a)){var d=this._caches.get(a);d.push(b)}else d=[],d.push(b),this._caches.set(a,d),b=new jees.CJS.newContainer,this._containers.set(a,b),jees.APP.addChild(b);this._update_cache()};c.removeChild=function(b,a){this._containers.get(a||c.Container.DEFAULT).removeChild(b)};jees.CM=c})();this.jees=this.jees||{};(function(){function c(a,d){this._group=void 0==a?jees.RM.DEFAULT_GROUP:a;this._suffix=void 0==d?"":d}var b=c.prototype;b.register=function(a,d){var b=!1;0<this._suffix.length?-1!=d.lastIndexOf("."+this._suffix)&&(b=!0):b=!0;if(b)jees.RM.add(a,d,this._group);else throw"\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e";};b.onload=function(a){jees.RM.onload(a)};b.get=function(a){return null!=this._group?jees.RM.get(a,this._group):jees.RM.get(a)};b.del=function(a){null!=this._group?jees.RM.del(a,this._group):jees.RM.del(a)};b.getContent=function(a){return eval("("+this.get(a)+")")};jees.FileLoadManager=c})();this.jees=this.jees||{};(function(){function c(){throw"jees.APP\u4e0d\u5141\u8bb8\u505a\u521d\u59cb\u5316\u64cd\u4f5c\u3002";}c._canvas=null;c._stage=null;c._module=null;c._connector=null;c._inited=!1;c._handler=null;c._loader=[];c.startup=function(b){var a=this;a._module=b;jees.RM.startup();jees.Skins.register("default",jees.SET.SKIN_FILE);jees.Config.register("config",jees.SET.CONFIG_FILE);this.addLoader(function(){jees.Config.onload(function(){a._initialize()})});this._handler=jees.E.tick(function(d){a.update(d)})};c.update=function(b){0<this._loader.length&&this._loader.pop().call();if(this._inited&&(null!=this._module&&(jees.MM.enter(this._module),this._module=null),!b.paused)){b=jees.CJS.getTicker().getTime();var a=b-jees.SET.getTimestamp();jees.SET.setTimestamp(b);jees.MM.update(a);jees.CM.update();this._stage.update()}};c.addChild=function(b){this._stage.addChild(b)};c.removeChild=function(b){this._stage.removeChild(b)};c.addLoader=function(b){this._loader.push(b)};c.getConfig=function(){return this._config};c.getTimestamp=function(){};c.getCanvas=function(){return this._canvas};c.getScreenSize=function(){return{w:this._canvas.width,h:this._canvas.height}};c.setFPS=function(b){jees.SET.setFPS(b);jees.CJS.getTicker().framerate=jees.SET.getFPS()};c.screenOrientation=function(){jees.DEV.isPortrait()?(jees.APP._stage.x=self.canvasHeight,jees.APP._stage.rotation=90):(jees.APP._stage.x=0,jees.APP._stage.rotation=0)};c.screenResize=function(){};c._initialize=function(){jees.SET.startup(jees.Config.getContent("config"));var b=1/window.devicePixelRatio;document.querySelector('meta[name\x3d"viewport"]').setAttribute("content","width\x3ddevice-width,initial-scale\x3d"+b+", maximum-scale\x3d"+b+", minimum-scale\x3d"+b+", user-scalable\x3dno");jees.SET.viewportScale=b;this._canvas=document.getElementById(jees.SET.getCanvas());this._stage=new createjs.StageGL(this._canvas);this._canvas.width=jees.SET.getWidth();this._canvas.height=jees.SET.getHeight();this._stage.updateViewport(jees.SET.getWidth(),jees.SET.getHeight());createjs.Ticker.timingMode=createjs.Ticker.RAF_SYNCHED;this.setFPS(jees.SET.getFPS());createjs.Touch.enable(this._stage);jees.SET.enableMouseOver()&&this._stage.enableMouseOver();jees.SET.enableConnector()&&(this._connector=new jees.WebSocketConnector(jees.SET.connector.host,jees.SET.connector.port,jees.SET.connector.path),this._connector.connect());jees.DEV.startup();jees.RM.reload();jees.CM.startup();jees.Skins.startup();this._inited=!0};jees.APP=c})();this.jees=this.jees||{};this.jees.EX=this.jees.EX||{};(function(){function c(b,a){this.FileLoadManager_constructor(b,a)}createjs.extend(c,jees.FileLoadManager);jees.EX.ConfigManager=createjs.promote(c,"FileLoadManager")})();this.jees=this.jees||{};this.jees.EX=this.jees.EX||{};(function(){function c(a,d){this.FileLoadManager_constructor(a,d);this._layouts=new Map}var b=createjs.extend(c,jees.FileLoadManager);b._layout_property_2_widget=function(a,d){var b=this,c=null,e=a?a.toString().toLowerCase():"widget";if("widget"==e)c=new jees.UI.Widget;else if("panel"==e)c=new jees.UI.Panel;else if("textbox"==e)c=new jees.UI.TextBox;else if("imagebox"==e)c=new jees.UI.ImageBox;else if("imagespt"==e)c=new jees.UI.ImageSpt;else if("button"==e)c=new jees.UI.Button;else if("checkbox"==e)c=new jees.UI.CheckBox;else if("inputbox"==e)c=new jees.UI.InputBox;else throw"\u9519\u8bef\u7684\u63a7\u4ef6\u7c7b\u578b\uff1a"+a;for(var k in c)d.hasOwnProperty(k)&&(c[k]=d[k]);for(k in c.property)d.hasOwnProperty(k)&&(c.property[k]=d[k]);c.property.childs&&c.property.childs.forEach(function(a){for(var d in a){c.addChild(b._layout_property_2_widget(d,a[d]));break}});return c};b._layout_2_widget=function(a){var d=null,b;for(b in a){d=this._layout_property_2_widget(b,a[b]);break}return d};b.load=function(a){var d;this._layouts.has(a)?d=this._layouts.get(a):(d=this._layout_2_widget(this.getContent(a)),this._layouts.set(a,d));jees.CM.addChild(d);return d};b.unload=function(a){if(this._layouts.has(a)){var d=this._layouts.get(a);this._layouts.delete(a);this.del(a);jees.CM.removeChild(d)}};jees.EX.LayoutManager=createjs.promote(c,"FileLoadManager")})();this.jees=this.jees||{};this.jees.EX=this.jees.EX||{};(function(){function c(a,d){this.FileLoadManager_constructor(a,d);this._config=null;this._skin="default"}var b=createjs.extend(c,jees.FileLoadManager);b.startup=function(){this._config=jees.SET.getConfig().Skin;this._skin=jees.SET.getSkin()};b.getSkin=function(a,d){return{resource:this.get(void 0!=d?d:this._skin),property:this._config[a]}};jees.EX.SkinManager=createjs.promote(c,"FileLoadManager")})();this.jees=this.jees||{};this.jees.UI=this.jees.UI||{};(function(){function c(a,d,b,c){this._type=a?a.toLowerCase():"none";this._skinResource=c?c:"default";this._config=jees.Skins.getSkin(this._type,this._skinResource);this._resource=this._config.resource;this._rects=new Map;this._regions=new Map;this._bitmaps=new Map;this._init_rects();this._init_regions(d,b);this._init_bitmap(d,b)}var b=c.prototype;b.getSkinType=function(){return this._type};b.getSkinResource=function(){return this._skinResource};b.getCacheDataURL=function(a){return a&&this._bitmaps.has(a)?this._bitmaps.get(a):this._bitmaps.has("rect")?this._bitmaps.get("rect"):null};b.__init_rect=function(a,d){d&&this._rects.set(a,d)};b._init_rects=function(){this.__init_rect("rect",this._config.property.rect);this.__init_rect("highlight",this._config.property.highlight);this.__init_rect("push",this._config.property.push);this.__init_rect("disable",this._config.property.disable);this.__init_rect("checked",this._config.property.checked);this.__init_rect("checkedHighlight",this._config.property.checkedHighlight);this.__init_rect("checkedPush",this._config.property.checkedPush);this.__init_rect("checkedDisable",this._config.property.checkedDisable)};b.__init_region=function(a,d,b,c){b=void 0!=b?b:d.w;c=void 0!=c?c:d.h;d&&this._regions.set(a,jees.UT.Grid(this._config.property.region,d.w,d.h,b,c))};b._init_regions=function(a,b){var d=this;this._rects.forEach(function(c,r){d.__init_region(r,c,a,b)})};b.__init_bitmap=function(a,b,c){if(a){var d=this._rects.get(a),r=this._regions.get(a),k=jees.CJS.newBitmap(this._resource);k.sourceRect=jees.CJS.newRect(d.x,d.y,d.w,d.h);var h=jees.CJS.newContainer(),m=d.x,t=d.y;r.forEach(function(a){var b=k.clone();b.sourceRect=jees.CJS.newRect(m+a.x,t+a.y,a.w,a.h);b.x=a.dx;b.y=a.dy;b.scaleX=a.sw;b.scaleY=a.sh;h.addChild(b)});h.cache(0,0,b,c);this._bitmaps.set(a,h.getCacheDataURL())}};b._init_bitmap=function(a,b){var d=this;this._rects.forEach(function(c,r){d.__init_bitmap(r,a,b)})};jees.UI.Skin=c})();this.jees=this.jees||{};this.jees.UI=this.jees.UI||{};(function(){function c(){this.height=this.width=this.h=this.w=this.y=this.x=0;this.scaleY=this.scaleX=1;this.style=this.alignY=this.alignX=0;this.visibleMask=this.enableMask=!1;this.layoutY=this.layoutX=null;this.enableSkin=!0;this.resource=this.skinType=this.skinResource=null;this.resHeight=this.resWidth=-1;this.childs=this.rect=this.region=null;this.state=!1;this._widget=null}var b=c.prototype;b.initialize=function(a){if(!a)throw"\u63a7\u4ef6\u4e0d\u80fd\u4e3a\u7a7a!";this._widget=a;this._resource_size();this._reset_size();this._reset_position()};b.getPosition=function(){return{x:this.x,y:this.y}};b.setPosition=function(a,b){void 0!=a&&(this.x=a);void 0!=b&&(this.y=b);this._reset_position()};b.getResourceSize=function(){return{w:this.resWidth,h:this.resHeight}};b.getSize=function(a){return a?{w:this.width,h:this.height}:{w:this.w,h:this.h}};b.setSize=function(a,b){void 0!=a&&(this.width=a);void 0!=b&&(this.height=b);this._reset_size()};b.getScale=function(){return{x:this.scaleX,y:this.scaleY}};b.setScale=function(a,b){a&&(this.scaleX=a);b&&(this.scaleY=b)};b.getAlign=function(){return{x:this.alignX,y:this.alignY}};b.setAlign=function(a,b){a&&(this.alignX=a);b&&(this.alignY=b);this._reset_position()};b._calculate_size=function(a,b,c){return a&&"string"==typeof a?"default"==a.toLowerCase()?0:"auto"==a.toLowerCase()?b-c:-1!=a.indexOf("%")?parseInt(a.substring(0,a.length-1))*b/100:parseInt(a):a};b._reset_size=function(){var a=this._widget.parent,b=null;a?a instanceof createjs.Stage||a instanceof createjs.StageGL?b=jees.APP.getScreenSize():a instanceof createjs.Container?(b=a.getBounds(),b={w:b.width,h:b.height}):b=a.getSize():b=jees.APP.getScreenSize();var c=0,f=0,e=this.getSize(!0);a&&(this.layoutX||this.layoutY)&&("string"==typeof e.w&&"auto"==e.w.toLowerCase()||"string"==typeof e.h&&"auto"==e.h.toLowerCase())&&(this.layoutX&&this.layoutX.split(",").forEach(function(b){b=a.getChildByName(b);b.property.state||b.initialize();c+=b.getSize().w}),this.layoutY&&this.layoutY.split(",").forEach(function(b){b=a.getChildByName(b);b.property.state||b.initialize();f+=b.getSize().h}));this.w=this._calculate_size(e.w,b.w,c);this.h=this._calculate_size(e.h,b.h,f);b=this.getResourceSize();-1!=b.w&&"default"==this.width&&(this.w=b.w);-1!=b.h&&"default"==this.height&&(this.h=b.h)};b._reset_position=function(){var a=this._widget.parent,a=a?a instanceof createjs.Stage||a instanceof createjs.StageGL?jees.APP.getScreenSize():a.getSize():jees.APP.getScreenSize(),b=this.getPosition(),c=this.getSize(),f=b.x,b=b.y;2==this.alignX?f=a.w-c.w-f:1==this.alignX&&(f=(a.w-c.w)/2+f);2==this.alignY?b=a.h-c.h-b:1==this.alignY&&(b=(a.h-c.h)/2+b);this.x=f;this.y=b};b._resource_size=function(){if(this.resource)if("string"==typeof this.resource)if(this.resource.startsWith("data:image")){var a=document.createElement("img");a.src=this.resource;this.resWidth=a.width;this.resHeight=a.height}else/\.(gif|jpg|jpeg|png|GIF|JPG|PNG)$/.test(this.resource)||(a=jees.Resource.get(this.resource),this.resWidth=a.width,this.resHeight=a.height);else this.resource instanceof createjs.Bitmap&&(a=this.resource.getBounds(),this.resWidth=a.width,this.resHeight=a.height)};jees.UI.Property=c})();this.jees=this.jees||{};this.jees.UI=this.jees.UI||{};(function(){function c(){this.Container_constructor();this.property=new jees.UI.Property}var b=createjs.extend(c,createjs.Container);b.initialize=function(){this.property.state||(this.property.state=!0,this.property.initialize(this),this._reset_size(),this._reset_scale(),this._reset_position(),this._reset_mask(),this._init_childs())};b.getAbsPosition=function(){var a=this.getConcatenatedMatrix();return{x:a.tx,y:a.ty}};b.setSize=function(a,b){this.property.setSize(a,b);this._reset_size()};b.getSize=function(a){return this.property.getSize(a)};b.setPosition=function(a,b){this.property.setPosition(a,b);this._reset_position()};b.getPosition=function(){return this.property.getPosition()};b.setScale=function(a,b){this.property.setScale(a,b);this._reset_scale()};b.getScale=function(){return this.property.getScale()};b.getAlign=function(){return{x:this.property.alignX,y:this.property.alignY}};b.setAlign=function(a,b){var c=this.property.alignX,d=this.property.alignY;void 0!=a&&(this.property.alignX=a);void 0!=b&&(this.property.alignY=b);c!=this.property.alignX&&0==this.property.alignX&&(this.property.x=0);d!=this.property.alignY&&0==this.property.alignY&&(this.property.y=0);this._reset_size_position()};b._cache=function(){this.getPosition();this.getSize();var a=this.getBounds();this.cache(a.x,a.y,a.width,a.height)};b._reset_size=function(){this.getPosition();var a=this.getSize();this.setBounds(0,0,a.w,a.h);this.property.enableMask&&this._reset_mask()};b._reset_position=function(){var a=this.getPosition();this.x=a.x;this.y=a.y};b._reset_scale=function(){var a=this.getScale();this.scaleX=a.x;this.scaleY=a.y};b._reset_mask=function(){if(this.property.enableMask){var a=this.property.getSize();this.getPosition();null==this.mask&&(this.mask=jees.CJS.newShape(a.w,a.h,"#000000"),this.property.visibleMask&&this.addChildAt(this.mask,0));this.mask&&this.property.visibleMask&&(this.mask.alpha=.5,this.mask.cache(0,0,a.w,a.h),this.mask.graphics.drawRect(0,0,a.w,a.h))}};b._init_childs=function(){if(this.children)for(var a=0;a<this.children.length;a++){var b=this.children[a];(b instanceof jees.UI.Widget||b instanceof jees.UI.TextBox||b instanceof jees.UI.ImageBox||b instanceof jees.UI.ImageSpt||b instanceof jees.UI.InputBox)&&b.initialize();this.property.enableMask&&(b.mask=this.mask)}};jees.UI.Widget=createjs.promote(c,"Container")})();this.jees=this.jees||{};this.jees.UI=this.jees.UI||{};(function(){function c(){this.Widget_constructor();this.property.skinResource="default";this.property.skinType="Panel";this._background=this._skin=null}var b=createjs.extend(c,jees.UI.Widget);b.initialize=function(){this.property.state||(this.Widget_initialize(),this._reset_background())};b.setSkinType=function(a){this.property.skinType=a;this._reset_background()};b._reset_size=function(){this.Widget__reset_size();this._reset_background()};b._reset_background=function(){!this._background&&(this.property.enableSkin||!this.property.enableSkin&&this.property.resource)&&(this._background=new jees.UI.ImageBox,this.addChildAt(this._background,this.visibeMask?1:0),this._background.initialize());this.property.enableSkin?this._reset_skin():this.property.resource&&this._reset_custom()};b._reset_custom_grid=function(){var a=this.getSize(),b=jees.Resource.get(this.property.resource),c=b.width,f=b.height,e=this.property.region.split(","),c=jees.UT.Grid({l:e[0],r:e[1],t:e[2],b:e[3]},c,f,a.w,a.h),k=jees.CJS.newContainer(),h=jees.CJS.newBitmap(b);c.forEach(function(a){var b=h.clone();b.sourceRect=jees.CJS.newRect(a.x,a.y,a.w,a.h);b.x=a.dx;b.y=a.dy;b.scaleX=a.sw;b.scaleY=a.sh;b.cache(0,0,a.w,a.h);k.addChild(b)});k.cache(0,0,a.w,a.h);k.getBounds();this.property.resource=k.getCacheDataURL();this._background.setSize(a.w,a.h);this._reset_background_resource()};b._reset_custom=function(){var a=this.getSize();this._reset_background_resource();switch(this.property.style){case 1:var b=jees.Resource.get(this.property.resource);this._background.setScale(a.w/b.width,a.h/b.height);break;case 2:null==this.mask&&(this.mask=jees.CJS.newShape());this.addChildAt(this.mask,0);this.mask.graphics.beginBitmapFill(this._background.image).drawRect(0,0,a.w,a.h);this.mask.cache(0,0,a.w,a.h);break;case 3:this._reset_custom_grid();break;default:this._background.alignX=1,this._background.alignY=1,this._background.setPosition(0,0)}};b._reset_skin=function(){var a=this.getSize();this._skin||(this._skin=new jees.UI.Skin(this.property.skinType,a.w,a.h,this.property.skinResource));if(this._skin.getSkinType()!=this.property.skinType||this._skin.getSkinResource()!=this.property.skinResource)this._skin=new jees.UI.Skin(this.property.skinType,a.w,a.h,this.property.skinResource);this.property.resource=this._skin.getCacheDataURL("rect");this._reset_background_resource()};b._reset_background_resource=function(){this._background.getResource()!=this.property.resource&&this._background.setResource(this.property.resource)};jees.UI.Panel=createjs.promote(c,"Widget")})();this.jees=this.jees||{};this.jees.UI=this.jees.UI||{};(function(){function c(){this.Bitmap_constructor();this.property=new jees.UI.Property}var b=createjs.extend(c,createjs.Bitmap);b.initialize=function(){this.property.state||(this.property.state=!0,this.property.initialize(this),this._reset_bitmap(),this._reset_position())};b.getResource=function(){return this.property.resource};b.setResource=function(a){this.property.resource=a;this._reset_bitmap()};b.getSize=function(a){return this.property.getSize(a)};b.setSize=function(a,b){this.property.setSize(a,b);this._reset_size_position()};b.getPosition=function(){return this.property.getPosition()};b.setPosition=function(a,b){this.property.setPosition(a,b);this._reset_position()};b.getAbsPosition=function(){var a=this.getConcatenatedMatrix();return{x:a.tx,y:a.ty}};b.getScale=function(){return this.property.getScale()};b.setScale=function(a,b){this.property.setScale(a,b);var c=this.getSize(),d=c.w,c=c.h;void 0!=a&&(d*=a);void 0!=b&&(c*=b);this.setSize(d,c)};b.setVisible=function(a){this.visible=a};b.getAlign=function(){return{x:this.property.alignX,y:this.property.alignY}};b.setAlign=function(a,b){var c=this.property.alignX,d=this.property.alignY;void 0!=a&&(this.property.alignX=a);void 0!=b&&(this.property.alignY=b);c!=this.property.alignX&&0==this.property.alignX&&(this.property.x=0);d!=this.property.alignY&&0==this.property.alignY&&(this.property.y=0);this._reset_size_position()};b._cache=function(){this.getPosition();this.getSize();var a=this.getBounds();this.cache(0,0,a.width,a.height)};b._reset_bitmap=function(){"string"==typeof this.property.resource?this.property.resource.startsWith("data:image")?(this.image=document.createElement("img"),this.image.src=this.property.resource):/\.(gif|jpg|jpeg|png|GIF|JPG|PNG)$/.test(this.property.resource)?(this.image=document.createElement("img"),this.image.src=this.property.resource):this.image=jees.Resource.get(this.property.resource):this.image=this.property.resource;this.property._resource_size();this._reset_rect();this._reset_size()};b._reset_size=function(){var a=this.property.getResourceSize(),b=this.getSize();-1!=a.w&&b.w!=a.w&&(this.property.scaleX=b.w/a.w);-1!=a.w&&b.h!=a.h&&(this.property.scaleY=b.h/a.h);this._reset_scale()};b._reset_position=function(){var a=this.getPosition();this.x=a.x;this.y=a.y};b._reset_size_position=function(){this._reset_size();var a=this.getPosition(),b=a.x,a=a.y;0!=this.property.alignX&&(b=0);0!=this.property.alignY&&(a=0);this.property.setPosition(b,a);this._reset_position()};b._reset_rect=function(){if(this.property.rect){var a=this.property.rect.split(",");this.sourceRect=jees.CJS.newRect(a[0],a[1],a[2],a[3]);this.setBounds(a[0],a[1],a[2],a[3]);this._cache()}};b._reset_scale=function(){var a=this.getScale();this.scaleX=a.x;this.scaleY=a.y};jees.UI.ImageBox=createjs.promote(c,"Bitmap")})();this.jees=this.jees||{};this.jees.UI=this.jees.UI||{};(function(){function c(){this.Sprite_constructor();this.property=new jees.UI.Property;this.cols=this.rows=1;this.start=0;this.speed=100;this.auto=!0;this._data=null;this._frame_count=1}var b=createjs.extend(c,createjs.Sprite);b.initialize=function(){if(!this.property.state){this.property.state=!0;this.property.initialize(this);var a=jees.Resource.get(this.property.resource),b=a.width/this.cols,c=a.height/this.rows;this._frame_count=this.cols*this.rows;this._data={images:[a],framerate:this._frame_count,frames:{width:b,height:c,count:this._frame_count,regX:this.regX,regY:this.regY},animations:{default:[0,this._frame_count-1,"default",1]}};this.spriteSheet=new createjs.SpriteSheet(this._data);this.property._resource_size();this.property.setSize(b,c);this._reset_size();this._reset_speed();this._reset_position();this._goto(this.start);this.auto&&this.gotoAndPlay("default")}};b.getSize=function(a){return this.property.getSize(a)};b.setSize=function(a,b){this.property.setSize(a,b);this._reset_size_position()};b.getPosition=function(){return this.property.getPosition()};b.setPosition=function(a,b){this.property.setPosition(a,b);this._reset_position()};b.getAbsPosition=function(){var a=this.getConcatenatedMatrix();return{x:a.tx,y:a.ty}};b.getScale=function(){return this.property.getScale()};b.setScale=function(a,b){this.property.setScale(a,b);var c=this.getSize(),d=c.w,c=c.h;void 0!=a&&(d*=a);void 0!=b&&(c*=b);this.setSize(d,c)};b.setRect=function(a,b,c,f){this.region=a+","+b+","+c+","+f;this.sourceRect=jees.CJS.newRect(a,b,c,f);this.setBounds(a,b,c,f)};b.setReg=function(a,b){a&&(this.regX=a);b&&(this.regY=b)};b.setSpeed=function(a){this.speed=a;this._reset_speed()};b.getAlign=function(){return{x:this.property.alignX,y:this.property.alignY}};b.setAlign=function(a,b){var c=this.property.alignX,d=this.property.alignY;void 0!=a&&(this.property.alignX=a);void 0!=b&&(this.property.alignY=b);c!=this.property.alignX&&0==this.property.alignX&&(this.property.x=0);d!=this.property.alignY&&0==this.property.alignY&&(this.property.y=0);this._reset_size_position()};b._reset_size=function(){var a=this.property.getResourceSize(),b=a.w/this.cols,a=a.h/this.rows,c=this.getSize();-1!=b&&c.w!=b&&(this.property.scaleX=c.w/b);-1!=a&&c.h!=a&&(this.property.scaleY=c.h/a);this._reset_scale()};b._reset_position=function(){var a=this.getPosition();this.x=a.x;this.y=a.y};b._reset_size_position=function(){this._reset_size();var a=this.getPosition();this.getSize();var b=a.x,a=a.y;0!=this.property.alignX&&(b=0);0!=this.property.alignY&&(a=0);this.property.setPosition(b,a);this._reset_position()};b._reset_scale=function(){var a=this.getScale();this.scaleX=a.x;this.scaleY=a.y};b._reset_speed=function(){var a=1E3/jees.SET.getFPS()/this.speed;this._data.animations.default[3]=a;this.spriteSheet._parseData(this._data)};jees.UI.ImageSpt=createjs.promote(c,"Sprite")})();this.jees=this.jees||{};this.jees.UI=this.jees.UI||{};(function(){function c(){this.Text_constructor("","","");this.property=new jees.UI.Property;this.bold=this.italic=!1;this.fontStyle="Arial";this.fontSize=12;this.warp=!0;this._drawText=this._reset_text;this._lineCount=1}var b=createjs.extend(c,createjs.Text);b.initialize=function(){this.property.state||(this.property.state=!0,this.property.initialize(this),this.font=this._get_font(),this.property.setSize(this.getSize().w,this.getSize().h),this.property.setPosition(this.x,this.y),this._reset_size_position())};b.getSize=function(){return{w:this.lineWidth?this.lineWidth:this.getMeasuredWidth(),h:(this.lineHeight?this.lineHeight:this.getMeasuredLineHeight())*this._lineCount}};b.getPosition=function(){return this.property.getPosition()};b.setPosition=function(a,b){this.property.setPosition(a,b);this._reset_position()};b.getAbsPosition=function(){var a=this.getConcatenatedMatrix();return{x:a.tx,y:a.ty}};b.getColor=function(){return this.color};b.setColor=function(a){this.color=a;this._cache()};b.setFont=function(a,b,c,f){this._set_font(a,b,c,f);this.font=this._get_font();this._reset_size_position()};b.getFontStyle=function(){return this.fontStyle};b.setFontStyle=function(a){this.fontStyle=a;this.font=this._get_font();this._reset_size_position()};b.getFontSize=function(){return this.fontSize};b.setFontSize=function(a){this.lineHeight=this.fontSize=a;this.font=this._get_font();this._reset_size_position()};b.getAlign=function(){return{x:this.property.alignX,y:this.property.alignY}};b.setAlign=function(a,b){var c=this.property.alignX,d=this.property.alignY;void 0!=a&&(this.property.alignX=a);void 0!=b&&(this.property.alignY=b);c!=this.property.alignX&&0==this.property.alignX&&(this.property.x=0);d!=this.property.alignY&&0==this.property.alignY&&(this.property.y=0);this._reset_size_position()};b.getMaxWidth=function(){return this.maxWidth};b.setMaxWidth=function(a){this.maxWidth=a;this._reset_size_position()};b.getLineWidth=function(){return this.lineWidth};b.setLineWidth=function(a){this.lineWidth=a;this._reset_size_position()};b.getText=function(){return this.text};b.setText=function(a){this.text=a;this._reset_size_position()};b.isBold=function(){return this.bold};b.setBold=function(a){this.bold=a;this.font=this._get_font();this._reset_size_position()};b.isItalic=function(){return this.italic};b.setItalic=function(a){this.italic=a;this.font=this._get_font();this._reset_size_position()};b.setVisible=function(a){this.visible=a};b.isVisible=function(){return this.visible};b._cache=function(){var a=this.getSize();this.cache(0,0,a.w,a.h)};b._get_font=function(){return(this.italic?"italic":"")+(this.bold?" bold":"")+" "+this.fontSize+"px "+this.fontStyle};b._set_font=function(a,b,c,f){this.fontSize=a;this.fontStyle=b?b:"Arial";this.italic=c||this.italic;this.bold=f||this.bold};b._reset_position=function(){var a=this.getPosition();this.x=a.x;this.y=a.y};b._reset_size_position=function(){this._cache();var a=this.getSize(),b=this.getPosition();this.property.setSize(a.w,a.h);a=b.x;b=b.y;0!=this.property.alignX&&(a=0);0!=this.property.alignY&&(b=0);this.property.setPosition(a,b);this._reset_position();this._cache()};b._reset_text=function(a,b,c){var d=!!a;d||(a=createjs.Text._workingContext,a.save(),this._prepContext(ctx));var e=this.lineHeight||this.getMeasuredLineHeight(),r=0,h=0;if(this.warp){for(var m=String(this.text).split(/(?:\r\n|\r|\n)/),t=0,g=m.length;t<g;t++){var l=m[t],n=null;if(null!=this.lineWidth&&(n=a.measureText(l).width)>this.lineWidth){for(var l=l.split(/(\s|[\u4e00-\u9fa5]+)/),n=[],p=0;p<l.length;p++){var q=l[p];""!=q&&(/([\u4e00-\u9fa5]+)/.test(q)?n=n.concat(q.split("")):n.push(q))}l=n;p="";for(q=0;q<l.length;q++)n=a.measureText(p+l[q]).width,n>=this.lineWidth?(n==this.lineWidth&&"s"!=l[q]&&(p+=l[q]),d&&this._drawTextLine(a,p,h*e),c&&c.push(p),p="",h++):"s"!=l[q]&&(p+=l[q]);""!=p&&(d&&this._drawTextLine(a,p,h*e),c&&c.push(p),h++)}else d&&this._drawTextLine(a,l,h*e),c&&lines.push(l),b&&null==n&&(n=ctx.measureText(l).width),n>r&&(r=n),h++}this._lineCount=h;b&&(b.width=r,b.height=h*e);d||a.restore();return b}d&&this._drawTextLine(a,this.text,h*e);c&&c.push(this.text)};jees.UI.TextBox=createjs.promote(c,"Text")})();this.jees=this.jees||{};this.jees.UI=this.jees.UI||{};(function(){function c(){this.ImageSpt_constructor();this.property.skinResource="Button";this.text="";this.types="normal, highlight, push, disable";this.bold=this.italic=this.disable=!1;this.fontStyle="Arial";this.fontSize=12;this.color="#FFFFFF";this.spriteY=this.spriteX=0;this.checked=!1;this.textY=this.textX=0;this._text=new jees.UI.TextBox}var b=createjs.extend(c,jees.UI.ImageSpt);b.initialize=function(){if(!this.property.state){this.property.state=!0;this.property.initialize(this);this._init_background();this._init_text();var a=this;-1!=this.types.indexOf("push")&&(jees.E.bind(this,"mousedown",function(b){a._handle_mousedown(b,a)}),jees.E.bind(this,"pressup",function(b){a._handle_pressup(b,a)}));-1!=this.types.indexOf("highlight")&&(jees.E.bind(this,"mouseover",function(b){a._handle_mouseover(b,a)}),jees.E.bind(this,"mouseout",function(b){a._handle_mouseout(b,a)}));this._reset_disable();this._reset_size_position()}};b.setDisabled=function(a){this.disable=a;this._reset_disable()};b.isDisabled=function(){return this.disable};b.setText=function(a){this._text.setText(a)};b.getText=function(){return this._text.text};b._init_skin=function(){var a=this.getSize();this._skin=new jees.UI.Skin(this.property.skinResource,a.w,a.h,jees.SET.getSkin());this._data.images.push(this._skin.getCacheDataURL("rect"));this._data.images.push(this._skin.getCacheDataURL("highlight"));this._data.images.push(this._skin.getCacheDataURL("push"));this._data.images.push(this._skin.getCacheDataURL("disable"));this._data.animations.normal=[0,0,"normal"];this._data.animations.highlight=[1,1,"highlight"];this._data.animations.push=[2,2,"push"];this._data.animations.disable=[3,3,"disable"];this._data.frames.count=4};b._init_custom=function(){var a=jees.CJS.newBitmap(jees.Resource.get(this.property.resource)),b=a.getBounds(),c=this.types.split(","),f=c.length,e=this.getSize(),k=0==this.spriteX?e.w:this.spriteX,h=0==this.spriteY?e.h:this.spriteY,m=0==this.spriteX?b.width:this.spriteX,t=0==this.spriteY?b.height:this.spriteY;this.cols=b.width/m;this.rows=b.height/t;b=null;this.property.region&&(b=this.property.region.split(","),b=jees.UT.Grid({l:b[0],r:b[1],t:b[2],b:b[3]},m,t,k,h));for(var g=0;g<f;g++){var l=a.clone(),n=this.spriteX*g,p=this.spriteY*g;l.sourceRect=jees.CJS.newRect(n,p,m,t);l.cache(0,0,m,t);if(b){var q=jees.CJS.newContainer();b.forEach(function(a){var b=l.clone();b.sourceRect=jees.CJS.newRect(n+a.x,p+a.y,a.w,a.h);b.x=a.dx;b.y=a.dy;b.scaleX=a.sw;b.scaleY=a.sh;q.addChild(b)});q.cache(0,0,e.w,e.h);this._data.images.push(q.getCacheDataURL())}else this._data.images.push(l.getCacheDataURL());"normal"==c[g].toLowerCase().trim()&&(this._data.animations.normal=[g,g,"normal"]);"highlight"==c[g].toLowerCase().trim()&&(this._data.animations.highlight=[g,g,"highlight"]);"push"==c[g].toLowerCase().trim()&&(this._data.animations.push=[g,g,"push"]);"disable"==c[g].toLowerCase().trim()&&(this._data.animations.disable=[g,g,"disable"]);"checked"==c[g].toLowerCase().trim()&&(this._data.animations.checked=[g,g,"checked"]);"checkedHighlight"==c[g].toLowerCase().trim()&&(this._data.animations.checkedHighlight=[g,g,"checkedHighlight"]);"checkedPush"==c[g].toLowerCase().trim()&&(this._data.animations.checkedPush=[g,g,"checkedPush"]);"checkedDisable"==c[g].toLowerCase().trim()&&(this._data.animations.checkedDisable=[g,g,"checkedDisable"])}this._data.frames.count=f;b?(this._data.frames.width=k,this._data.frames.height=h):(this._data.frames.width=m,this._data.frames.height=t)};b._init_background=function(){var a=this.getSize();this._data={images:[],frames:{width:a.w,height:a.h,count:1},animations:{normal:[0,0,"normal"]}};this.property.resource&&""!=this.property.resource?this._init_custom():this._init_skin();this.spriteSheet=new createjs.SpriteSheet(this._data);this.gotoAndPlay("normal")};b._init_text=function(){var a=this.parent,b=this._text;a.addChildAt(b,a.getChildIndex(this)+1);b.text=this.text;b.fontSize=this.fontSize;b.fontStyle=this.fontStyle;b.color=this.color;b.italic=this.italic;b.bold=this.bold;b.mouseEnabled=!1};b._reset_disable=function(){this.disable?this.gotoAndPlay(this.checked?"checkedDisable":"disable"):this.gotoAndPlay(this.checked?"checked":"normal")};b._handle_mousedown=function(a,b){if(!b.isDisabled()){a=b._text;var c=a.getPosition(),d=a.getFontSize()/10;a.setPosition(c.x-d,c.y-d);b.gotoAndPlay(b.checked?"checkedPush":"push")}};b._handle_pressup=function(a,b){if(!b.isDisabled()){a=b._text;var c=a.getPosition(),d=a.getFontSize()/10;a.setPosition(c.x+d,c.y+d);b.gotoAndPlay(b.checked?"checked":"normal")}};b._handle_mouseover=function(a,b){b.isDisabled()||b.gotoAndPlay(b.checked?"checkedHighlight":"highlight")};b._handle_mouseout=function(a,b){b.isDisabled()||b.gotoAndPlay(b.checked?"checked":"normal")};b._reset_size=function(){if(!this.property.region){var a=this.property.getResourceSize(),b=a.w/this.cols,a=a.h/this.rows,c=this.getSize();-1!=b&&c.w!=b&&(this.property.scaleX=c.w/b);-1!=a&&c.h!=a&&(this.property.scaleY=c.h/a);this._reset_scale()}};b._reset_position=function(){this.ImageSpt__reset_position();var a=this.getSize(),b=this._text,c=b.getSize(),f=this.x+a.w/2-c.w/2+this.textX,a=this.y+(a.h/2-c.h/2)+this.textY;b.property.state?b.setPosition(f,a):(b.x=f,b.y=a)};jees.UI.Button=createjs.promote(c,"ImageSpt")})();this.jees=this.jees||{};this.jees.UI=this.jees.UI||{};(function(){function c(){this.Button_constructor();this.property.skinResource="CheckBox";this.group="";this.types="normal, highlight, push, disable, checked, checkedHighlight, checkedPush, checkedDisable";this._text=new jees.UI.TextBox}var b=createjs.extend(c,jees.UI.Button);b.initialize=function(){if(!this.property.state){this.Button_initialize();var a=this;jees.E.bind(this,"click",function(b){a._handle_click(b,a)});this._reset_checked()}};b.setChecked=function(a){this.checked=a;this._reset_checked()};b.isChecked=function(){return this.checked};b._init_skin=function(){var a=this.getSize();this._skin=new jees.UI.Skin(this.property.skinResource,a.w,a.h,jees.SET.getSkin());this._data.images.push(this._skin.getCacheDataURL("rect"));this._data.images.push(this._skin.getCacheDataURL("highlight"));this._data.images.push(this._skin.getCacheDataURL("push"));this._data.images.push(this._skin.getCacheDataURL("disable"));this._data.images.push(this._skin.getCacheDataURL("checked"));this._data.images.push(this._skin.getCacheDataURL("checkedHighlight"));this._data.images.push(this._skin.getCacheDataURL("checkedPush"));this._data.images.push(this._skin.getCacheDataURL("checkedDisable"));this._data.animations.normal=[0,0,"normal"];this._data.animations.highlight=[1,1,"highlight"];this._data.animations.push=[2,2,"push"];this._data.animations.disable=[3,3,"disable"];this._data.animations.checked=[4,4,"checked"];this._data.animations.checkedHighlight=[5,5,"checkedHighlight"];this._data.animations.checkedPush=[6,6,"checkedPush"];this._data.animations.checkedDisable=[7,7,"checkedDisable"];this._data.frames.count=8};b._handle_click=function(a,b){b.isDisabled()||b.setChecked(!b.checked)};b._reset_checked=function(){this.isDisabled()||(-1!=this.types.toLowerCase().indexOf("checked")?this.gotoAndPlay(this.checked?"checked":"normal"):this.gotoAndPlay("normal"))};jees.UI.CheckBox=createjs.promote(c,"Button")})();this.jees=this.jees||{};this.jees.UI=this.jees.UI||{};(function(){function c(){this.ImageBox_constructor();this.property=new jees.UI.Property;this.property.skinResource="InputBox";this.placeholder="";this.fontSize=12;this.color="#FFFFFF";this.password=!1;this.paddingY=this.paddingX=0;this.warp=!1;this._skin=null;var a=document.body,b=document.createElement("INPUT");a.appendChild(b);this._object=new createjs.DOMElement(b);this._input=this._object.htmlElement;this._mask=null}var b=createjs.extend(c,jees.UI.ImageBox);b.initialize=function(){if(!this.property.state){this.property.state=!0;this.property.initialize(this);this._init_background();this.parent.addChildAt(this._object,this.parent.getChildIndex(this)+1);this.property.enableMask&&(this._mask=new jees.UI.TextBox,this._init_text());this._reset_size();this._reset_position();this._reset_input();var a=this;this.property.enableMask&&(this._input.hidden=!0,jees.E.bind(this,"click",function(b){a._input.hidden=!1;a._input.focus()}),this._input.style.setProperty("hidden","true"),this._input.onfocus=function(b){a._input.hidden=!1;a._mask.setVisible(!1)},this._input.onblur=function(b){a._input.hidden=!0;a._mask.setVisible(!0);a._reset_text()},this._input.onchange=function(b){a._input.hidden=!0})}};b.setSize=function(a,b){};b._cache=function(){this.getPosition();this.getSize();var a=this.getBounds();this.cache(0,0,a.width,a.height)};b._init_skin=function(){var a=this.getSize();this._skin||(this._skin=new jees.UI.Skin(this.property.skinResource,a.w,a.h,jees.SET.getSkin()),this.property.resource=this._skin.getCacheDataURL("rect"),this.image.src=this.property.resource)};b._init_custom_grid=function(){var a=this.getSize(),b=jees.Resource.get(this.property.resource),c=b.width,f=b.height,e=this.property.region.split(","),c=jees.UT.Grid({l:e[0],r:e[1],t:e[2],b:e[3]},c,f,a.w,a.h),k=jees.CJS.newContainer(),h=jees.CJS.newBitmap(b);c.forEach(function(a){var b=h.clone();b.sourceRect=jees.CJS.newRect(a.x,a.y,a.w,a.h);b.x=a.dx;b.y=a.dy;b.scaleX=a.sw;b.scaleY=a.sh;k.addChild(b)});k.cache(0,0,a.w,a.h);this.image.src=k.bitmapCache.getCacheDataURL()};b._init_custom=function(){""!=this.property.region?this._init_custom_grid():this.image.src=jees.Resource.get(this.property.resource)};b._init_background=function(){this.image=document.createElement("img");this.property.resource&&""!=this.property.resource?this._init_custom():this._init_skin()};b._init_text=function(){this.parent.addChildAt(this._mask,this.parent.getChildIndex(this)+1);this._mask.warp=this.warp;this._mask.fontSize=this.fontSize;this._mask.color=this.color};b._reset_position=function(){this.getAbsPosition();var a=this.getPosition();this.x=a.x;this.y=a.y;jees.SET.getViewportScale();var b=jees.DEV.width/jees.SET.getWidth(),c=jees.DEV.height/jees.SET.getHeight(),b=a.x*b,c=a.y*c;this._input.style.setProperty("padding",this.paddingY+"px "+this.paddingX+"px "+this.paddingY+"px "+this.paddingX+"px ");this._object.x=b;this._object.y=c;this._mask&&(c=a.x+this.paddingX,a=a.y+this.paddingY,this._mask.property.state?this._mask.setPosition(c,a):(this._mask.x=c,this._mask.y=a))};b._reset_size=function(){var a=this.getSize(),b=jees.DEV.width/jees.SET.getWidth(),c=jees.DEV.height/jees.SET.getHeight(),c=a.h*c,f=this._input.style;f.setProperty("width",a.w*b+"px");f.setProperty("height",c+"px");this._mask&&(this._mask.property.state?this._mask.setLineWidth(a.w-2*this.paddingX):this._mask.lineWidth=a.w-2*this.paddingX)};b._reset_input=function(){var a=this._input.style;this._input.type=this.password?"password":"text";this._input.placeholder=this.placeholder;a.setProperty("color",this.color);this._reset_text()};b._reset_text=function(){this._mask&&(this._mask.property.state?this._mask.setText(""!=this._input.value?this._input.value:this.placeholder):this._mask.text=""!=this._input.value?this._input.value:this.placeholder)};jees.UI.InputBox=createjs.promote(c,"ImageBox")})();
//# sourceMappingURL=jees.min.js.map
